# صفحة إدارة المنتجات (Products)

## نظرة عامة

صفحة إدارة المنتجات تسمح للمستخدمين بإدارة منتجاتهم بشكل شامل: عرض، إضافة، تعديل، حذف، والبحث والفلترة.

**الموقع**: `src/pages/Products/Products.tsx`  
**المسار**: `/products`  
**الحالة**: ✅ مكتملة

---

## الوظائف الرئيسية

### 1. عرض المنتجات
- جدول المنتجات مع جميع التفاصيل
- ترقيم الصفحات
- فرز حسب الأعمدة
- عرض الصور المصغرة

### 2. البحث والفلترة
- بحث نصي (اسم، وصف، SKU)
- فلترة حسب الفئة
- فلترة حسب الحالة (نشط/غير نشط)
- فلترة حسب المخزون

### 3. إدارة المنتجات
- إضافة منتج جديد
- تعديل منتج موجود
- حذف منتج
- حذف متعدد

### 4. إدارة الفئات
- فتح مدير الفئات
- إضافة/تعديل/حذف فئات
- شجرة الفئات الهرمية

---

## المكونات المستخدمة

- `Table`: جدول المنتجات
- `Input`: حقل البحث
- `Button`: أزرار الإجراءات
- `CategoryManager`: مدير الفئات
- `Modal`: نوافذ الحوار

---

## تدفق المستخدم (User Flow)

### تدفق إضافة منتج جديد
1. المستخدم ينقر على "إضافة منتج"
2. يتم توجيهه لصفحة `/products/new`
3. يملأ نموذج المنتج
4. يضغط "حفظ"
5. يتم حفظ المنتج والعودة للقائمة

### تدفق البحث
1. المستخدم يكتب في حقل البحث
2. يتم البحث تلقائياً (debounced)
3. يتم تحديث الجدول بالنتائج

### تدفق الحذف
1. المستخدم ينقر على زر الحذف
2. يظهر حوار تأكيد
3. يؤكد الحذف
4. يتم حذف المنتج

---

## APIs المستخدمة

- `GET /products` - جلب قائمة المنتجات
- `POST /products` - إضافة منتج جديد
- `PATCH /products/:id` - تحديث منتج
- `DELETE /products/:id` - حذف منتج
- `GET /products/categories` - جلب الفئات

---

## حالات الاستخدام

### حالة الاستخدام 1: إضافة منتج جديد
المستخدم يريد إضافة منتج جديد:
1. يفتح صفحة Products
2. ينقر "إضافة منتج"
3. يملأ البيانات (اسم، وصف، سعر، فئة)
4. يرفع صورة (اختياري)
5. يحفظ

### حالة الاستخدام 2: البحث عن منتج
المستخدم يريد البحث عن منتج:
1. يكتب في حقل البحث
2. يرى النتائج فوراً
3. يمكنه فلترة حسب الفئة

---

## Custom Hook

**الموقع**: `src/hooks/useProducts.ts`

**الوظيفة**: إدارة منطق المنتجات

```typescript
const {
  products,
  categories,
  isLoading,
  searchProducts,
  filterByCategory,
  deleteProduct,
} = useProducts({
  filters: { page: 1, limit: 10 },
});
```

---

## ملاحظات التطوير

- البحث يستخدم debounce لتقليل الطلبات
- الصور تُحمل بشكل lazy
- الحذف المتعدد مدعوم
- الفئات تُدار من نفس الصفحة

---

**تاريخ آخر تحديث**: ديسمبر 2025

