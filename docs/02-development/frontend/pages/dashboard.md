# صفحة لوحة المؤشرات (Dashboard)

## نظرة عامة

صفحة لوحة المؤشرات هي الصفحة الرئيسية للتطبيق التي تعرض نظرة شاملة على أداء الأعمال من خلال مؤشرات الأداء الرئيسية (KPIs)، الرسوم البيانية، والتنبيهات.

**الموقع**: `src/pages/Dashboard/Dashboard.tsx`  
**المسار**: `/dashboard`  
**الحالة**: ✅ مكتملة

---

## الوظائف الرئيسية

### 1. مؤشرات الأداء الرئيسية (KPIs)
- إجمالي المبيعات
- عدد الفواتير
- المخزون المنخفض
- العملاء النشطين

### 2. الرسوم البيانية
- مخطط المبيعات (يومي، أسبوعي، شهري)
- اتجاهات الإيرادات
- مقارنة الفترات

### 3. التنبيهات
- تنبيهات المخزون المنخفض
- تنبيهات المدفوعات المتأخرة
- تنبيهات المهام المعلقة

### 4. الفلاتر
- فلترة حسب التاريخ (من - إلى)
- فلترة حسب الفرع
- تحديث تلقائي كل 5 دقائق

---

## المكونات المستخدمة

- `KPICard`: بطاقات مؤشرات الأداء
- `SalesChart`: مخطط المبيعات
- `InventoryAlerts`: تنبيهات المخزون
- `DatePicker`: اختيار التاريخ
- `Button`: أزرار الإجراءات

---

## تدفق المستخدم (User Flow)

1. المستخدم يفتح التطبيق → يتم توجيهه للـ Dashboard
2. يتم تحميل البيانات تلقائياً
3. المستخدم يرى KPIs والرسوم البيانية
4. يمكن للمستخدم:
   - تغيير نطاق التاريخ
   - اختيار فرع محدد
   - تحديث البيانات يدوياً
   - النقر على KPI للتفاصيل

---

## APIs المستخدمة

- `GET /reports/dashboard/overview` - نظرة عامة على البيانات
- `GET /reports/dashboard/sales` - بيانات المبيعات
- `GET /reports/dashboard/inventory` - بيانات المخزون

---

## حالات الاستخدام

### حالة الاستخدام 1: عرض البيانات اليومية
المستخدم يريد رؤية أداء اليوم:
1. يفتح Dashboard
2. يرى KPIs للفترة الحالية
3. يرى مخطط المبيعات اليومي

### حالة الاستخدام 2: مقارنة الفترات
المستخدم يريد مقارنة الشهر الحالي بالشهر السابق:
1. يختار نطاق تاريخ (الشهر الحالي)
2. يرى KPIs مع اتجاهات (↑ أو ↓)
3. يقارن مع الفترة السابقة

---

## Custom Hook

**الموقع**: `src/pages/Dashboard/Dashboard.hooks.ts`

**الوظيفة**: إدارة منطق Dashboard (جلب البيانات، الفلاتر، التحديث)

```typescript
const {
  kpis,
  salesChart,
  inventoryAlerts,
  isLoading,
  setDateRange,
  setBranch,
  refresh,
} = useDashboard({
  autoRefresh: true,
  refreshInterval: 5 * 60 * 1000,
});
```

---

## ملاحظات التطوير

- البيانات تُحدث تلقائياً كل 5 دقائق
- يمكن تحديث البيانات يدوياً
- الفلاتر تُطبق فوراً
- الرسوم البيانية تفاعلية

---

**تاريخ آخر تحديث**: ديسمبر 2025

