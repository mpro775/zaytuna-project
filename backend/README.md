# Ù†Ø¸Ø§Ù… Ø²ÙŠØªÙˆÙ†Ø© - Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯ (Zaytuna POS Backend)

<p align="center">
  <img src="https://img.shields.io/badge/NestJS-E0234E?style=for-the-badge&logo=nestjs&logoColor=white" alt="NestJS" />
  <img src="https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript" />
  <img src="https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white" alt="PostgreSQL" />
  <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white" alt="Redis" />
</p>

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ ÙŠÙØ¨Ù†Ù‰ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… **NestJS** Ùˆ**TypeScript**ØŒ ÙŠØ¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ù„Ù„Ù…ØªØ§Ø¬Ø± ÙˆØ§Ù„Ù…Ø·Ø§Ø¹Ù… Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ ÙˆØ¶Ø¹ Ø¹Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„.

### Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- âœ… Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- âœ… Ù†Ø¸Ø§Ù… Ù…Ø®Ø²ÙˆÙ† Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ ØªØªØ¨Ø¹ Ø¯Ù‚ÙŠÙ‚
- âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- âœ… Ù†Ø¸Ø§Ù… Ù…Ø­Ø§Ø³Ø¨ÙŠ ÙƒØ§Ù…Ù„ (General Ledger)
- âœ… ØªÙ‚Ø§Ø±ÙŠØ± ØªÙØ§Ø¹Ù„ÙŠØ© ÙˆÙ„ÙˆØ­Ø§Øª Ù…Ø¤Ø´Ø±Ø§Øª
- âœ… Ø¯Ø¹Ù… ÙˆØ¶Ø¹ Ø¹Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„ (Offline-First)
- âœ… Ù†Ø¸Ø§Ù… Ù…ØµØ§Ø¯Ù‚Ø© Ù…Ø¹Ø²Ø² Ù…Ø¹ 2FA
- âœ… Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù†

## Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

### Ø§Ù„Ø¥Ø·Ø§Ø± ÙˆØ§Ù„Ù„ØºØ©
- **NestJS** - Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ Node.js Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙˆØ³Ø¹
- **TypeScript** - Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ù…Ø¹ ØªØ­Ù‚Ù‚ Ø£Ù†ÙˆØ§Ø¹ Ù‚ÙˆÙŠ

### Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ®Ø²ÙŠÙ†
- **PostgreSQL** - Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©
- **Redis** - ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ù„Ø³Ø§Øª
- **Prisma** - ORM Ù„Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- **JWT** - Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ù…ÙŠØ²Ø©
- **2FA** - Ù…ØµØ§Ø¯Ù‚Ø© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ù„
- **WebAuthn** - Ù…ØµØ§Ø¯Ù‚Ø© Ø¨ÙŠÙˆÙ…ØªØ±ÙŠØ©

## Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

- **Node.js** 22.0.0 Ø£Ùˆ Ø£Ø­Ø¯Ø«
- **PostgreSQL** 15.0 Ø£Ùˆ Ø£Ø­Ø¯Ø«
- **Redis** 7.0 Ø£Ùˆ Ø£Ø­Ø¯Ø«

### Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### 1. ØªØ«Ø¨ÙŠØª PostgreSQL
```bash
# Ø¹Ù„Ù‰ Ubuntu/Debian
sudo apt update
sudo apt install postgresql postgresql-contrib

# Ø¹Ù„Ù‰ macOS (Ø§Ø³ØªØ®Ø¯Ø§Ù… Homebrew)
brew install postgresql
brew services start postgresql

# Ø¹Ù„Ù‰ Windows (Ø§Ø³ØªØ®Ø¯Ø§Ù… Chocolatey)
choco install postgresql
```

#### 2. Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…
```sql
-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ€ postgres user
sudo -u postgres psql

-- Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
CREATE DATABASE zaytuna_pos;

-- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
CREATE USER zaytuna_user WITH ENCRYPTED PASSWORD 'password';

-- Ù…Ù†Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
GRANT ALL PRIVILEGES ON DATABASE zaytuna_pos TO zaytuna_user;

-- Ø§Ù„Ø®Ø±ÙˆØ¬
\q
```

#### 3. Ø¥Ø¹Ø¯Ø§Ø¯ Redis
```bash
# Ø¹Ù„Ù‰ Ubuntu/Debian
sudo apt install redis-server
sudo systemctl start redis-server

# Ø¹Ù„Ù‰ macOS
brew install redis
brew services start redis

# Ø¹Ù„Ù‰ Windows
# Ù‚Ù… Ø¨ØªØ­Ù…ÙŠÙ„ Redis Ù…Ù† https://redis.io/download
```

## Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### 1. ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª
```bash
npm install
```

### 2. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
```bash
# Ù†Ø³Ø® Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠ
cp .env.example .env

# ØªØ­Ø±ÙŠØ± Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
nano .env
```

### 3. Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
npm run db:push

# Ø£Ùˆ Ø¨Ø¯ÙŠÙ„: ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø§ÙŠØ¬Ø±ÙŠØ´Ù† (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ migrations)
npm run db:migrate

# Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ©
npm run db:seed

# ØªÙˆÙ„ÙŠØ¯ Ø¹Ù…ÙŠÙ„ Prisma (Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
npm run db:generate
```

### 4. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
```bash
# Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ ØªØ®ØµÙŠØµ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
cp .env.example .env.local
# Ù‚Ù… Ø¨ØªØ­Ø±ÙŠØ± .env.local Ø­Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ
```

### 5. Ø¥Ø¹Ø¯Ø§Ø¯ Redis (Ù„Ù„ÙƒØ§Ø´)
```bash
# ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Redis Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° 6379
redis-cli ping  # ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±Ø¬Ø¹ PONG

# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØ§Ø´
npm run cache:test
```

## ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
# ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ± (Ù…Ø¹ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©)
npm run start:dev

# ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ù†ØªØ§Ø¬
npm run build
npm run start:prod

# ÙˆØ¶Ø¹ Ø§Ù„ØªØ´Ø®ÙŠØµ
npm run start:debug
```

## Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
# Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª
npm run test

# Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ù…Ø¹ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©
npm run test:watch

# Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
npm run test:e2e

# ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
npm run test:cov
```

## Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±

```bash
# ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯
npm run format

# ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯
npm run lint

# Ø¥ØµÙ„Ø§Ø­ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ÙƒÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
npm run lint:fix

# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØ§Ø´
npm run cache:test
```

## Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ø´

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Cache Decorators

```typescript
import { Cache, CacheShort, CacheLong, InvalidateCache } from './common/decorators/cache.decorator';

@Controller('products')
export class ProductsController {
  constructor(private readonly productsService: ProductsService) {}

  @Get()
  @Cache({ ttl: 300 }) // ÙƒØ§Ø´ Ù„Ù…Ø¯Ø© 5 Ø¯Ù‚Ø§Ø¦Ù‚
  async findAll() {
    return this.productsService.findAll();
  }

  @Get(':id')
  @CacheShort() // ÙƒØ§Ø´ Ù„Ù…Ø¯Ø© 5 Ø¯Ù‚Ø§Ø¦Ù‚
  async findOne(@Param('id') id: string) {
    return this.productsService.findOne(id);
  }

  @Post()
  @InvalidateCache('products:*') // Ø¥Ø¨Ø·Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  async create(@Body() createProductDto: CreateProductDto) {
    return this.productsService.create(createProductDto);
  }
}
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Cache Service Ù…Ø¨Ø§Ø´Ø±Ø©

```typescript
import { CacheService } from './shared/cache/cache.service';

@Injectable()
export class ProductsService {
  constructor(private readonly cacheService: CacheService) {}

  async findAll() {
    const cacheKey = 'products:all';

    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ù…Ù† Ø§Ù„ÙƒØ§Ø´ Ø£ÙˆÙ„Ø§Ù‹
    const cached = await this.cacheService.get(cacheKey);
    if (cached) {
      return cached;
    }

    // Ø§Ù„Ø­ØµÙˆÙ„ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const products = await this.prisma.product.findMany();

    // Ø­ÙØ¸ ÙÙŠ Ø§Ù„ÙƒØ§Ø´ Ù„Ù…Ø¯Ø© 5 Ø¯Ù‚Ø§Ø¦Ù‚
    await this.cacheService.set(cacheKey, products, { ttl: 300 });

    return products;
  }
}
```

## Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ÙˆØ­Ø¯

### ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª API ØªØªØ¨Ø¹ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ­Ø¯ Ø§Ù„ØªØ§Ù„ÙŠ:

#### Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù†Ø§Ø¬Ø­Ø©:
```json
{
  "success": true,
  "data": {
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
  },
  "meta": {
    "timestamp": "2025-01-01T12:00:00.000Z",
    "requestId": "req-123456789",
    "version": "1.0.0",
    "path": "/api/v1/users",
    "method": "GET",
    "duration": 150
  },
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "totalPages": 5
  }
}
```

#### Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø®Ø·Ø£:
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
    "details": {
      "field": "email",
      "reason": "Ø§Ù„Ø­Ù‚Ù„ email Ù…Ø·Ù„ÙˆØ¨"
    },
    "traceId": "trace-123456789",
    "timestamp": "2025-01-01T12:00:00.000Z",
    "path": "/api/v1/users",
    "method": "POST"
  }
}
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

```typescript
import { BadRequestException } from '@nestjs/common';
import { ErrorCode, ErrorMessages } from './common/constants/error-codes';

// Ø±Ù…ÙŠ Ø®Ø·Ø£ Ù…Ø®ØµØµ
throw new BadRequestException({
  code: ErrorCode.VALIDATION_ERROR,
  message: ErrorMessages[ErrorCode.VALIDATION_ERROR],
  details: {
    field: 'email',
    reason: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø·Ù„ÙˆØ¨'
  }
});
```

### Ø±Ù…ÙˆØ² Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

- `VALIDATION_ERROR` (400): Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `AUTHENTICATION_ERROR` (401): Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- `AUTHORIZATION_ERROR` (403): Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- `NOT_FOUND_ERROR` (404): Ø§Ù„Ø¹Ù†ØµØ± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
- `SYSTEM_ERROR` (500): Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…

### endpoints Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù† Ø®Ù„Ø§Ù„ endpoints Ø§Ù„ØªØ§Ù„ÙŠØ©:

```bash
# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
GET /health

# Ø§Ø®ØªØ¨Ø§Ø± pagination
GET /test-pagination?page=1&limit=10

# Ø§Ø®ØªØ¨Ø§Ø± Ø®Ø·Ø£
GET /test-error
```

## Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Decorators Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

```typescript
import { Controller, Get, Post } from '@nestjs/common';
import { Public, Permissions, RequireRead, RequireCreate } from './common/decorators/permissions.decorator';

@Controller('users')
export class UsersController {

  @Get()
  @RequireRead() // ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
  async findAll() {
    // Ù…Ù†Ø·Ù‚ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
  }

  @Post()
  @Permissions('create', 'admin') // ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
  async create() {
    // Ù…Ù†Ø·Ù‚ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
  }

  @Get('public')
  @Public() // Ù…ØªØ§Ø­ Ù„Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø¯ÙˆÙ† Ù…ØµØ§Ø¯Ù‚Ø©
  async getPublicInfo() {
    // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©
  }
}
```

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

- `read` - Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `create` - Ø¥Ù†Ø´Ø§Ø¡ Ø³Ø¬Ù„Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `update` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `delete` - Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„Ø§Øª
- `admin` - ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¥Ø¯Ø§Ø±ÙŠØ© ÙƒØ§Ù…Ù„Ø©

### Ù†Ø¸Ø§Ù… Guards Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ

Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ endpoints Ù…Ø­Ù…ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù€:

1. **JWT Auth Guard**: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
2. **Permission Guard**: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

### Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

```typescript
// ÙÙŠ Controller
@Post('protected-endpoint')
@Permissions('sales.create') // ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
async createSale(@Body() data: CreateSaleDto) {
  // Ø³ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†:
  // 1. ÙˆØ¬ÙˆØ¯ JWT token ØµØ­ÙŠØ­
  // 2. ÙˆØ¬ÙˆØ¯ ØµÙ„Ø§Ø­ÙŠØ© 'sales.create' Ù„Ø¯Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  return this.salesService.create(data);
}
```

### endpoints Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

```bash
# Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù€ endpoint Ø§Ù„Ø¹Ø§Ù…
GET / (Ù…ØªØ§Ø­ Ø¨Ø¯ÙˆÙ† Ù…ØµØ§Ø¯Ù‚Ø©)

# Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ endpoint Ù…Ø­Ù…ÙŠ Ø¨Ø¯ÙˆÙ† token
GET /test-pagination (Ø³ÙŠØ±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨)

# Ø¥Ø¶Ø§ÙØ© token ÙÙŠ Ø§Ù„Ù€ header
Authorization: Bearer <your-jwt-token>
GET /test-pagination (Ø³ÙŠØ³Ù…Ø­ Ø­Ø³Ø¨ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª)
```

## Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ù€ API

### Auth API Endpoints

#### ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
```bash
POST /auth/register
Content-Type: application/json

{
  "username": "john_doe",
  "email": "john@example.com",
  "password": "SecurePassword123",
  "phone": "+966501234567",
  "roleId": "role_user",
  "branchId": "branch_main"
}
```

#### ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
```bash
POST /auth/login
Content-Type: application/json

{
  "username": "john_doe",
  "password": "SecurePassword123"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "accessToken": "eyJhbGciOiJIUzI1NiIs...",
    "refreshToken": "eyJhbGciOiJIUzI1NiIs...",
    "user": {
      "id": "user_123",
      "username": "john_doe",
      "email": "john@example.com",
      "role": "User",
      "branch": "Main Branch"
    },
    "expiresIn": 900
  }
}
```

#### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ù…ÙŠØ²
```bash
POST /auth/refresh
Content-Type: application/json

{
  "refreshToken": "eyJhbGciOiJIUzI1NiIs..."
}
```

#### ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
```bash
POST /auth/logout
Authorization: Bearer <access_token>
```

#### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
```bash
GET /auth/me
Authorization: Bearer <access_token>
```

#### ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
```bash
PATCH /auth/password
Authorization: Bearer <access_token>
Content-Type: application/json

{
  "currentPassword": "OldPassword123",
  "newPassword": "NewPassword123"
}
```

#### Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ù„Ù„Ù…Ø´Ø±ÙÙŠÙ†)
```bash
PATCH /auth/users/{userId}/password
Authorization: Bearer <access_token>
Content-Type: application/json

{
  "newPassword": "NewAdminPassword123"
}
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ù…ÙŠØ²Ø©

Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ requests Ø§Ù„Ù…Ø­Ù…ÙŠØ© ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ù…ÙŠØ² ÙÙŠ Ø§Ù„Ù€ header:

```bash
Authorization: Bearer <your_access_token>
```

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ù…ÙŠØ²Ø©

- **Access Token**: ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø­Ù…ÙŠØ© (Ù…Ø¯Ø© 15 Ø¯Ù‚ÙŠÙ‚Ø©)
- **Refresh Token**: ÙŠØ³ØªØ®Ø¯Ù… Ù„ØªØ¬Ø¯ÙŠØ¯ Access Token (Ù…Ø¯Ø© 7 Ø£ÙŠØ§Ù…)

### Ø£Ø¯ÙˆØ§Ø± ÙˆØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

- **Super Admin**: ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…
- **Admin**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
- **Manager**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
- **Cashier**: Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„ÙÙˆØ§ØªÙŠØ±
- **User**: ÙˆØµÙˆÙ„ Ù…Ø­Ø¯ÙˆØ¯ Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„
npm run auth:full-test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (RBAC)

### ÙØ¦Ø§Øª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©

#### ğŸ”§ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
- `system.admin` - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- `system.config` - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
- `system.logs` - Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª

#### ğŸ‘¥ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `users.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `users.create` - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¬Ø¯Ø¯
- `users.update` - ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `users.delete` - Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `users.manage` - Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø©

#### ğŸª ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.read` - Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.create` - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `products.update` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.delete` - Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

#### ğŸ’° ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `sales.read` - Ù‚Ø±Ø§Ø¡Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `sales.create` - Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª
- `sales.update` - ØªØ­Ø¯ÙŠØ« ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `sales.delete` - Ø­Ø°Ù ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `sales.refund` - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

#### ğŸ“¦ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.adjust` - ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.transfer` - Ù†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ğŸ’¼ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- `purchases.read` - Ù‚Ø±Ø§Ø¡Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- `purchases.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆØ§Ù…Ø± Ø´Ø±Ø§Ø¡
- `purchases.update` - ØªØ­Ø¯ÙŠØ« Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡

#### ğŸ§¾ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
- `accounting.read` - Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©
- `accounting.journal` - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
- `accounting.reports` - Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©

#### ğŸ“Š ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- `reports.sales` - ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `reports.inventory` - ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `reports.financial` - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©

### Roles API Endpoints

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
```bash
GET /roles - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
POST /roles - Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙˆØ± Ø¬Ø¯ÙŠØ¯
GET /roles/:id - ØªÙØ§ØµÙŠÙ„ Ø¯ÙˆØ± Ù…Ø­Ø¯Ø¯
PATCH /roles/:id - ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ±
DELETE /roles/:id - Ø­Ø°Ù Ø¯ÙˆØ±
GET /roles/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
POST /roles/assign - ØªØ¹ÙŠÙŠÙ† Ø¯ÙˆØ± Ù„Ù…Ø³ØªØ®Ø¯Ù…
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
```bash
GET /permissions - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
GET /permissions/categories - ÙØ¦Ø§Øª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
GET /permissions/category/:category - ØµÙ„Ø§Ø­ÙŠØ§Øª ÙØ¦Ø© Ù…Ø­Ø¯Ø¯Ø©
GET /permissions/validate/:permission - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© ØµÙ„Ø§Ø­ÙŠØ©
```

### Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙˆØ± Ø¬Ø¯ÙŠØ¯
```bash
POST /roles
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Sales Manager",
  "description": "Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª",
  "permissions": [
    "sales.read",
    "sales.create",
    "sales.update",
    "reports.sales",
    "users.read"
  ],
  "isSystemRole": false
}
```

#### ØªØ¹ÙŠÙŠÙ† Ø¯ÙˆØ± Ù„Ù…Ø³ØªØ®Ø¯Ù…
```bash
POST /roles/assign
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "userId": "user_123",
  "roleId": "role_sales_manager"
}
```

### Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

1. **Super Admin** - ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©
2. **Admin** - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
3. **Manager** - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
4. **Cashier** - Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„ÙÙˆØ§ØªÙŠØ±
5. **User** - ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø©

### Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù‡Ø±Ù…ÙŠ

- Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ØªØªØ¶Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- `sales` ØªØ´Ù…Ù„ `sales.read`, `sales.create`, Ø¥Ù„Ø®
- `admin` ØªØ´Ù…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- ÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¨Ø¯Ù‚Ø© Ù„ÙƒÙ„ Ø¯ÙˆØ±

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± RBAC
npm run rbac:test
```

## Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù† (Branches & Warehouses)

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯
```bash
POST /branches
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶",
  "code": "BR-RIYADH",
  "address": "Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",
  "phone": "+966112345678",
  "email": "riyadh@company.com",
  "companyId": "company_123",
  "managerId": "user_456"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹
```bash
GET /branches - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹
GET /branches?companyId=xyz - ÙØ±ÙˆØ¹ Ø´Ø±ÙƒØ© Ù…Ø­Ø¯Ø¯Ø©
GET /branches/:id - ØªÙØ§ØµÙŠÙ„ ÙØ±Ø¹
PATCH /branches/:id - ØªØ­Ø¯ÙŠØ« ÙØ±Ø¹
DELETE /branches/:id - Ø­Ø°Ù ÙØ±Ø¹
GET /branches/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹
GET /branches/:id/users - Ù…Ø³ØªØ®Ø¯Ù…Ùˆ Ø§Ù„ÙØ±Ø¹
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø®Ø²Ù† Ø¬Ø¯ÙŠØ¯
```bash
POST /warehouses
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ù…Ø®Ø²Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",
  "code": "WH-RIYADH-MAIN",
  "address": "Ù…Ø®Ø²Ù† Ø§Ù„Ø±ÙŠØ§Ø¶",
  "phone": "+966119876543",
  "email": "warehouse@company.com",
  "branchId": "branch_123",
  "managerId": "user_456"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†
```bash
GET /warehouses - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ø²Ù†
GET /warehouses?branchId=xyz - Ù…Ø®Ø§Ø²Ù† ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯
GET /warehouses/:id - ØªÙØ§ØµÙŠÙ„ Ù…Ø®Ø²Ù†
PATCH /warehouses/:id - ØªØ­Ø¯ÙŠØ« Ù…Ø®Ø²Ù†
DELETE /warehouses/:id - Ø­Ø°Ù Ù…Ø®Ø²Ù†
GET /warehouses/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù†
GET /warehouses/:id/stock - Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø®Ø²Ù†
```

### Ù†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®Ø§Ø²Ù†

```bash
POST /warehouses/transfer-stock
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "fromWarehouseId": "warehouse_123",
  "toWarehouseId": "warehouse_456",
  "productVariantId": "variant_789",
  "quantity": 50,
  "notes": "Ù†Ù‚Ù„ Ù…Ø®Ø²ÙˆÙ† Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ù„Ø·Ù„Ø¨"
}
```

### Branch-based Filtering

Ø¬Ù…ÙŠØ¹ endpoints ØªØ¯Ø¹Ù… Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹:

```typescript
// ÙÙŠ Controllers
@Permissions('inventory.read')
findAll(@Query('branchId') branchId?: string) {
  return this.warehouseService.findAll(branchId);
}
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹
```json
{
  "totalBranches": 5,
  "activeBranches": 4,
  "inactiveBranches": 1,
  "totalCompanies": 2,
  "averageBranchesPerCompany": 2.5,
  "totalUsers": 25,
  "totalWarehouses": 8
}
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù†
```json
{
  "totalWarehouses": 8,
  "activeWarehouses": 7,
  "inactiveWarehouses": 1,
  "totalStockItems": 1250,
  "totalStockQuantity": 50000,
  "averageWarehousesPerBranch": 1.6
}
```

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `branches.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹
- `branches.manage` - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹ (Ø¥Ù†Ø´Ø§Ø¡/ØªØ­Ø¯ÙŠØ«/Ø­Ø°Ù)
- `inventory.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.transfer` - Ù†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®Ø§Ø²Ù†

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù†
npm run branches:test
```

## Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù† (Branches & Warehouses)

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯
```bash
POST /branches
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶",
  "code": "BR-RIYADH",
  "address": "Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",
  "phone": "+966112345678",
  "email": "riyadh@company.com",
  "companyId": "company_123",
  "managerId": "user_456"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹
```bash
GET /branches - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹
GET /branches?companyId=xyz - ÙØ±ÙˆØ¹ Ø´Ø±ÙƒØ© Ù…Ø­Ø¯Ø¯Ø©
GET /branches/:id - ØªÙØ§ØµÙŠÙ„ ÙØ±Ø¹
PATCH /branches/:id - ØªØ­Ø¯ÙŠØ« ÙØ±Ø¹
DELETE /branches/:id - Ø­Ø°Ù ÙØ±Ø¹
GET /branches/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹
GET /branches/:id/users - Ù…Ø³ØªØ®Ø¯Ù…Ùˆ Ø§Ù„ÙØ±Ø¹
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø®Ø²Ù† Ø¬Ø¯ÙŠØ¯
```bash
POST /warehouses
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ù…Ø®Ø²Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",
  "code": "WH-RIYADH-MAIN",
  "address": "Ù…Ø®Ø²Ù† Ø§Ù„Ø±ÙŠØ§Ø¶",
  "phone": "+966119876543",
  "email": "warehouse@company.com",
  "branchId": "branch_123",
  "managerId": "user_456"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†
```bash
GET /warehouses - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ø²Ù†
GET /warehouses?branchId=xyz - Ù…Ø®Ø§Ø²Ù† ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯
GET /warehouses/:id - ØªÙØ§ØµÙŠÙ„ Ù…Ø®Ø²Ù†
PATCH /warehouses/:id - ØªØ­Ø¯ÙŠØ« Ù…Ø®Ø²Ù†
DELETE /warehouses/:id - Ø­Ø°Ù Ù…Ø®Ø²Ù†
GET /warehouses/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù†
GET /warehouses/:id/stock - Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø®Ø²Ù†
```

### Ù†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®Ø§Ø²Ù†

```bash
POST /warehouses/transfer-stock
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "fromWarehouseId": "warehouse_123",
  "toWarehouseId": "warehouse_456",
  "productVariantId": "variant_789",
  "quantity": 50,
  "notes": "Ù†Ù‚Ù„ Ù…Ø®Ø²ÙˆÙ† Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ù„Ø·Ù„Ø¨"
}
```

### Branch-based Filtering

Ø¬Ù…ÙŠØ¹ endpoints ØªØ¯Ø¹Ù… Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹:

```typescript
// ÙÙŠ Controllers
@Permissions('inventory.read')
findAll(@Query('branchId') branchId?: string) {
  return this.warehouseService.findAll(branchId);
}
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹
```json
{
  "totalBranches": 5,
  "activeBranches": 4,
  "inactiveBranches": 1,
  "totalCompanies": 2,
  "averageBranchesPerCompany": 2.5,
  "totalUsers": 25,
  "totalWarehouses": 8
}
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù†
```json
{
  "totalWarehouses": 8,
  "activeWarehouses": 7,
  "inactiveWarehouses": 1,
  "totalStockItems": 1250,
  "totalStockQuantity": 50000,
  "averageWarehousesPerBranch": 1.6
}
```

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `branches.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹
- `branches.manage` - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹ (Ø¥Ù†Ø´Ø§Ø¡/ØªØ­Ø¯ÙŠØ«/Ø­Ø°Ù)
- `inventory.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.transfer` - Ù†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®Ø§Ø²Ù†

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ StockItem
```sql
model StockItem {
  id                String  @id @default(cuid()) @db.VarChar(50)
  warehouseId       String  @db.VarChar(50)
  productVariantId  String  @db.VarChar(50)
  quantity          Decimal @db.Decimal(10, 3)
  minStock          Decimal @default(0) @db.Decimal(10, 3)
  maxStock          Decimal @default(1000) @db.Decimal(10, 3)

  warehouse Warehouse @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
  stockMovements StockMovement[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([warehouseId, productVariantId])
  @@map("stock_items")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ StockMovement
```sql
model StockMovement {
  id                String   @id @default(cuid()) @db.VarChar(50)
  warehouseId       String   @db.VarChar(50)
  productVariantId  String   @db.VarChar(50)
  movementType      String   @db.VarChar(50) // in, out, adjustment, transfer
  quantity          Decimal  @db.Decimal(10, 3)
  referenceType     String?  @db.VarChar(50) // sales, purchase, adjustment, transfer
  referenceId       String?  @db.VarChar(50)
  reason            String?  @db.Text
  performedBy       String?  @db.VarChar(50) // User ID

  warehouse Warehouse @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
  stockItem StockItem @relation(fields: [warehouseId, productVariantId], references: [warehouseId, productVariantId], onDelete: Cascade)

  createdAt DateTime @default(now())

  @@map("stock_movements")
}
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù†
npm run branches:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Product Management)

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©
```bash
POST /categories
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª",
  "description": "Ø£Ø¬Ù‡Ø²Ø© ÙˆÙ…Ø¹Ø¯Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©",
  "parentId": "parent_category_id", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
  "imageUrl": "https://example.com/electronics.jpg"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª
```bash
GET /categories - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ¦Ø§Øª
GET /categories/root - Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¬Ø°Ø±
GET /categories/:id - ØªÙØ§ØµÙŠÙ„ ÙØ¦Ø©
GET /categories/:id/subcategories - Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
PATCH /categories/:id - ØªØ­Ø¯ÙŠØ« ÙØ¦Ø©
DELETE /categories/:id - Ø­Ø°Ù ÙØ¦Ø©
GET /categories/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ¦Ø§Øª
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
```bash
POST /products
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬",
  "description": "Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬ Ø¬Ø§Ù„Ø§ÙƒØ³ÙŠ S23",
  "barcode": "8806094012345",
  "sku": "SAMSUNG-S23-BLK",
  "categoryId": "category_id",
  "basePrice": 2999.99,
  "costPrice": 2500.00,
  "trackInventory": true,
  "reorderPoint": 5,
  "imageUrl": "https://example.com/samsung-s23.jpg"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```bash
GET /products - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
GET /products?categoryId=xyz - Ù…Ù†ØªØ¬Ø§Øª ÙØ¦Ø© Ù…Ø­Ø¯Ø¯Ø©
GET /products?search=laptop - Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
GET /products/:id - ØªÙØ§ØµÙŠÙ„ Ù…Ù†ØªØ¬
GET /products/lookup/:barcode - Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯
PATCH /products/:id - ØªØ­Ø¯ÙŠØ« Ù…Ù†ØªØ¬
DELETE /products/:id - Ø­Ø°Ù Ù…Ù†ØªØ¬
GET /products/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```

### Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØºÙŠØ± Ù…Ù†ØªØ¬
```bash
POST /product-variants
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "productId": "product_id",
  "name": "Ù‡Ø§ØªÙ Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬ Ø¬Ø§Ù„Ø§ÙƒØ³ÙŠ S23 - Ø£Ø³ÙˆØ¯",
  "sku": "SAMSUNG-S23-BLK-128GB",
  "barcode": "8806094012346",
  "price": 3199.99,
  "costPrice": 2700.00,
  "weight": 0.168,
  "dimensions": {
    "length": 14.6,
    "width": 7.1,
    "height": 0.76
  },
  "attributes": {
    "color": "Ø£Ø³ÙˆØ¯",
    "storage": "128GB",
    "ram": "8GB"
  },
  "imageUrl": "https://example.com/samsung-s23-black.jpg"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬
```bash
GET /product-variants - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
GET /product-variants?productId=xyz - Ù…ØªØºÙŠØ±Ø§Øª Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø¯
GET /product-variants/:id - ØªÙØ§ØµÙŠÙ„ Ù…ØªØºÙŠØ±
GET /product-variants/lookup/:barcode - Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯
PATCH /product-variants/:id - ØªØ­Ø¯ÙŠØ« Ù…ØªØºÙŠØ±
DELETE /product-variants/:id - Ø­Ø°Ù Ù…ØªØºÙŠØ±
```

### Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù‡Ø±Ù…ÙŠ

- **Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¬Ø°Ø±**: ÙØ¦Ø§Øª Ø¨Ø¯ÙˆÙ† Ø£Ø¨
- **Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©**: ÙØ¦Ø§Øª ØªØ§Ø¨Ø¹Ø© Ù„ÙØ¦Ø© Ø£Ø¨
- **Ù…Ù†Ø¹ Ø§Ù„Ø­Ù„Ù‚Ø§Øª**: Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ ÙØ¦Ø© ÙƒØ£Ø¨ Ù„Ù†ÙØ³Ù‡Ø§ Ø£Ùˆ Ù„Ø£Ø­ÙØ§Ø¯Ù‡Ø§
- **Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª**: ÙƒÙ„ ÙØ¦Ø© Ù„Ù‡Ø§ Ù…Ø³ØªÙˆÙ‰ ÙÙŠ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù‡Ø±Ù…ÙŠ

### Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©

#### Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯/SKU
```bash
GET /products/lookup/8806094012345
GET /product-variants/lookup/8806094012346
```

#### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
```bash
GET /products?search=Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬
GET /products?categoryId=electronics_id
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±

- **Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ**: Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
- **Ø³Ø¹Ø± Ø§Ù„ØªÙƒÙ„ÙØ©**: ØªÙƒÙ„ÙØ© Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬
- **Ø³Ø¹Ø± Ø§Ù„Ù…ØªØºÙŠØ±**: Ø³Ø¹Ø± Ù…Ø®ØµØµ Ù„ÙƒÙ„ Ù…ØªØºÙŠØ±
- **validation**: Ø£Ø³Ø¹Ø§Ø± Ù…ÙˆØ¬Ø¨Ø© Ø¨Ø¯Ù‚Ø© Ø³Ù†ØªÙŠÙ†

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```json
{
  "totalProducts": 150,
  "activeProducts": 145,
  "totalVariants": 450,
  "activeVariants": 440,
  "totalCategories": 25,
  "averageProductsPerCategory": 6.0
}
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ¦Ø§Øª
```json
{
  "totalCategories": 25,
  "activeCategories": 24,
  "rootCategories": 8,
  "maxDepth": 3,
  "totalProducts": 150,
  "averageProductsPerCategory": 6.0
}
```

### Ù†Ø¸Ø§Ù… Barcode Ùˆ SKU

- **Uniqueness**: ÙƒÙ„ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ùˆ SKU ÙØ±ÙŠØ¯ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…
- **Validation**: Ø·ÙˆÙ„ ÙˆØµÙŠØºØ© Ù…Ø­Ø¯Ø¯Ø©
- **Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹**: ÙÙ‡Ø±Ø³Ø© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹
- **ØªØªØ¨Ø¹**: Ø±Ø¨Ø· Ø¨Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `products.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.create` - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `products.update` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.delete` - Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ Category
```sql
model Category {
  id          String   @id @default(cuid()) @db.VarChar(50)
  name        String   @db.VarChar(255)
  description String?  @db.Text
  parentId    String?  @db.VarChar(50)
  imageUrl    String?  @db.Text
  isActive    Boolean  @default(true)

  parent     Category? @relation("CategoryHierarchy", fields: [parentId], references: [id])
  children   Category[] @relation("CategoryHierarchy")
  products   Product[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("categories")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ Product
```sql
model Product {
  id          String   @id @default(cuid()) @db.VarChar(50)
  name        String   @db.VarChar(255)
  description String?  @db.Text
  barcode     String?  @unique @db.VarChar(100)
  sku         String?  @unique @db.VarChar(100)
  categoryId  String   @db.VarChar(50)
  basePrice   Decimal  @db.Decimal(10, 2)
  costPrice   Decimal? @db.Decimal(10, 2)
  taxId       String?  @db.VarChar(50)
  isActive    Boolean  @default(true)
  trackInventory Boolean @default(true)
  reorderPoint   Int?     @default(0)
  imageUrl    String?  @db.Text

  category    Category    @relation(fields: [categoryId], references: [id])
  variants    ProductVariant[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("products")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ ProductVariant
```sql
model ProductVariant {
  id          String   @id @default(cuid()) @db.VarChar(50)
  productId   String   @db.VarChar(50)
  name        String   @db.VarChar(255)
  sku         String?  @unique @db.VarChar(100)
  barcode     String?  @unique @db.VarChar(100)
  price       Decimal? @db.Decimal(10, 2)
  costPrice   Decimal? @db.Decimal(10, 2)
  weight      Decimal? @db.Decimal(8, 3)
  dimensions  Json?    // {length, width, height}
  attributes  Json?    // {color, size, material, etc}
  imageUrl    String?  @db.Text
  isActive    Boolean  @default(true)

  product Product @relation(fields: [productId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("product_variants")
}
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
npm run products:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Product Management)

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©
```bash
POST /categories
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª",
  "description": "Ø£Ø¬Ù‡Ø²Ø© ÙˆÙ…Ø¹Ø¯Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©",
  "parentId": "parent_category_id", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
  "imageUrl": "https://example.com/electronics.jpg"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª
```bash
GET /categories - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ¦Ø§Øª
GET /categories/root - Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¬Ø°Ø±
GET /categories/:id - ØªÙØ§ØµÙŠÙ„ ÙØ¦Ø©
GET /categories/:id/subcategories - Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
PATCH /categories/:id - ØªØ­Ø¯ÙŠØ« ÙØ¦Ø©
DELETE /categories/:id - Ø­Ø°Ù ÙØ¦Ø©
GET /categories/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ¦Ø§Øª
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
```bash
POST /products
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬",
  "description": "Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬ Ø¬Ø§Ù„Ø§ÙƒØ³ÙŠ S23",
  "barcode": "8806094012345",
  "sku": "SAMSUNG-S23-BLK",
  "categoryId": "category_id",
  "basePrice": 2999.99,
  "costPrice": 2500.00,
  "trackInventory": true,
  "reorderPoint": 5,
  "imageUrl": "https://example.com/samsung-s23.jpg"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```bash
GET /products - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
GET /products?categoryId=xyz - Ù…Ù†ØªØ¬Ø§Øª ÙØ¦Ø© Ù…Ø­Ø¯Ø¯Ø©
GET /products?search=laptop - Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
GET /products/:id - ØªÙØ§ØµÙŠÙ„ Ù…Ù†ØªØ¬
GET /products/lookup/:barcode - Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯
PATCH /products/:id - ØªØ­Ø¯ÙŠØ« Ù…Ù†ØªØ¬
DELETE /products/:id - Ø­Ø°Ù Ù…Ù†ØªØ¬
GET /products/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```

### Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØºÙŠØ± Ù…Ù†ØªØ¬
```bash
POST /product-variants
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "productId": "product_id",
  "name": "Ù‡Ø§ØªÙ Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬ Ø¬Ø§Ù„Ø§ÙƒØ³ÙŠ S23 - Ø£Ø³ÙˆØ¯",
  "sku": "SAMSUNG-S23-BLK-128GB",
  "barcode": "8806094012346",
  "price": 3199.99,
  "costPrice": 2700.00,
  "weight": 0.168,
  "dimensions": {
    "length": 14.6,
    "width": 7.1,
    "height": 0.76
  },
  "attributes": {
    "color": "Ø£Ø³ÙˆØ¯",
    "storage": "128GB",
    "ram": "8GB"
  },
  "imageUrl": "https://example.com/samsung-s23-black.jpg"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬
```bash
GET /product-variants - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
GET /product-variants?productId=xyz - Ù…ØªØºÙŠØ±Ø§Øª Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø¯
GET /product-variants/:id - ØªÙØ§ØµÙŠÙ„ Ù…ØªØºÙŠØ±
GET /product-variants/lookup/:barcode - Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯
PATCH /product-variants/:id - ØªØ­Ø¯ÙŠØ« Ù…ØªØºÙŠØ±
DELETE /product-variants/:id - Ø­Ø°Ù Ù…ØªØºÙŠØ±
```

### Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù‡Ø±Ù…ÙŠ

- **Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¬Ø°Ø±**: ÙØ¦Ø§Øª Ø¨Ø¯ÙˆÙ† Ø£Ø¨
- **Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©**: ÙØ¦Ø§Øª ØªØ§Ø¨Ø¹Ø© Ù„ÙØ¦Ø© Ø£Ø¨
- **Ù…Ù†Ø¹ Ø§Ù„Ø­Ù„Ù‚Ø§Øª**: Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ ÙØ¦Ø© ÙƒØ£Ø¨ Ù„Ù†ÙØ³Ù‡Ø§ Ø£Ùˆ Ù„Ø£Ø­ÙØ§Ø¯Ù‡Ø§
- **Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª**: ÙƒÙ„ ÙØ¦Ø© Ù„Ù‡Ø§ Ù…Ø³ØªÙˆÙ‰ ÙÙŠ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù‡Ø±Ù…ÙŠ

### Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©

#### Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯/SKU
```bash
GET /products/lookup/8806094012345
GET /product-variants/lookup/8806094012346
```

#### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
```bash
GET /products?search=Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬
GET /products?categoryId=electronics_id
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±

- **Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ**: Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
- **Ø³Ø¹Ø± Ø§Ù„ØªÙƒÙ„ÙØ©**: ØªÙƒÙ„ÙØ© Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬
- **Ø³Ø¹Ø± Ø§Ù„Ù…ØªØºÙŠØ±**: Ø³Ø¹Ø± Ù…Ø®ØµØµ Ù„ÙƒÙ„ Ù…ØªØºÙŠØ±
- **validation**: Ø£Ø³Ø¹Ø§Ø± Ù…ÙˆØ¬Ø¨Ø© Ø¨Ø¯Ù‚Ø© Ø³Ù†ØªÙŠÙ†

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```json
{
  "totalProducts": 150,
  "activeProducts": 145,
  "totalVariants": 450,
  "activeVariants": 440,
  "totalCategories": 25,
  "averageProductsPerCategory": 6.0
}
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ¦Ø§Øª
```json
{
  "totalCategories": 25,
  "activeCategories": 24,
  "rootCategories": 8,
  "maxDepth": 3,
  "totalProducts": 150,
  "averageProductsPerCategory": 6.0
}
```

### Ù†Ø¸Ø§Ù… Barcode Ùˆ SKU

- **Uniqueness**: ÙƒÙ„ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ùˆ SKU ÙØ±ÙŠØ¯ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…
- **Validation**: Ø·ÙˆÙ„ ÙˆØµÙŠØºØ© Ù…Ø­Ø¯Ø¯Ø©
- **Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹**: ÙÙ‡Ø±Ø³Ø© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹
- **ØªØªØ¨Ø¹**: Ø±Ø¨Ø· Ø¨Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `products.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.create` - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `products.update` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `products.delete` - Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ Category
```sql
model Category {
  id          String   @id @default(cuid()) @db.VarChar(50)
  name        String   @db.VarChar(255)
  description String?  @db.Text
  parentId    String?  @db.VarChar(50)
  imageUrl    String?  @db.Text
  isActive    Boolean  @default(true)

  parent     Category? @relation("CategoryHierarchy", fields: [parentId], references: [id])
  children   Category[] @relation("CategoryHierarchy")
  products   Product[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("categories")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ Product
```sql
model Product {
  id          String   @id @default(cuid()) @db.VarChar(50)
  name        String   @db.VarChar(255)
  description String?  @db.Text
  barcode     String?  @unique @db.VarChar(100)
  sku         String?  @unique @db.VarChar(100)
  categoryId  String   @db.VarChar(50)
  basePrice   Decimal  @db.Decimal(10, 2)
  costPrice   Decimal? @db.Decimal(10, 2)
  taxId       String?  @db.VarChar(50)
  isActive    Boolean  @default(true)
  trackInventory Boolean @default(true)
  reorderPoint   Int?     @default(0)
  imageUrl    String?  @db.Text

  category    Category    @relation(fields: [categoryId], references: [id])
  variants    ProductVariant[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("products")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ ProductVariant
```sql
model ProductVariant {
  id          String   @id @default(cuid()) @db.VarChar(50)
  productId   String   @db.VarChar(50)
  name        String   @db.VarChar(255)
  sku         String?  @unique @db.VarChar(100)
  barcode     String?  @unique @db.VarChar(100)
  price       Decimal? @db.Decimal(10, 2)
  costPrice   Decimal? @db.Decimal(10, 2)
  weight      Decimal? @db.Decimal(8, 3)
  dimensions  Json?    // {length, width, height}
  attributes  Json?    // {color, size, material, etc}
  imageUrl    String?  @db.Text
  isActive    Boolean  @default(true)

  product Product @relation(fields: [productId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("product_variants")
}
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
npm run products:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory Management)

### Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯
```bash
POST /inventory/stock-items
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "warehouseId": "warehouse_id",
  "productVariantId": "variant_id",
  "quantity": 100,
  "minStock": 10,
  "maxStock": 500
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
GET /inventory/stock-items - Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
GET /inventory/stock-items?warehouseId=xyz - Ù…Ø®Ø²ÙˆÙ† Ù…Ø®Ø²Ù† Ù…Ø­Ø¯Ø¯
GET /inventory/stock-items?lowStockOnly=true - Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶ ÙÙ‚Ø·
GET /inventory/stock-items/:id - ØªÙØ§ØµÙŠÙ„ Ø¹Ù†ØµØ± Ù…Ø®Ø²ÙˆÙ†
PATCH /inventory/stock-items/:id - ØªØ­Ø¯ÙŠØ« Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```

### ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
POST /inventory/stock-items/:warehouseId/:productVariantId/adjust
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "quantity": 50,
  "movementType": "purchase",
  "referenceType": "purchase_order",
  "referenceId": "PO-001",
  "reason": "Ø´Ø±Ø§Ø¡ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯ Ø£Ø­Ù…Ø¯"
}
```

#### Ø£Ù†ÙˆØ§Ø¹ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `adjustment`: ØªØ¹Ø¯ÙŠÙ„ ÙŠØ¯ÙˆÙŠ
- `purchase`: Ø´Ø±Ø§Ø¡ Ù…Ù† Ù…ÙˆØ±Ø¯
- `sale`: Ø¨ÙŠØ¹ Ù„Ø¹Ù…ÙŠÙ„
- `transfer_in`: Ù†Ù‚Ù„ ÙˆØ§Ø±Ø¯ Ù…Ù† Ù…Ø®Ø²Ù† Ø¢Ø®Ø±
- `transfer_out`: Ù†Ù‚Ù„ ØµØ§Ø¯Ø± Ù„Ù…Ø®Ø²Ù† Ø¢Ø®Ø±
- `return`: Ù…Ø±ØªØ¬Ø¹ Ù…Ù† Ø¹Ù…ÙŠÙ„
- `initial`: Ù…Ø®Ø²ÙˆÙ† Ø£ÙˆÙ„ÙŠ

### ØªØªØ¨Ø¹ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¹Ø±Ø¶ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
GET /inventory/movements - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙƒØ§Øª
GET /inventory/movements?warehouseId=xyz - Ø­Ø±ÙƒØ§Øª Ù…Ø®Ø²Ù† Ù…Ø­Ø¯Ø¯
GET /inventory/movements?productVariantId=xyz - Ø­Ø±ÙƒØ§Øª Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø¯
GET /inventory/movements?limit=20 - ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
```

### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
```bash
GET /inventory/alerts/low-stock
Authorization: Bearer <admin_token>
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /inventory/stats
Authorization: Bearer <admin_token>
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø°Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø¯ÙˆÙ† Ù…Ø®Ø²ÙˆÙ†
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø°Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø±ØªÙØ¹
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ù…Ø®Ø²ÙˆÙ† Ù…Ù†ØªØ¬ Ø¹Ø¨Ø± Ø§Ù„Ù…Ø®Ø§Ø²Ù†
```bash
GET /inventory/products/:productVariantId/stock
Authorization: Bearer <admin_token>
```

#### Ù…Ø®Ø²ÙˆÙ† Ù…Ø®Ø²Ù† ÙƒØ§Ù…Ù„
```bash
GET /inventory/warehouses/:warehouseId/stock
Authorization: Bearer <admin_token>
```

### Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªØ­Ø¯ÙŠØ« Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
PATCH /inventory/stock-items/:id
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "minStock": 5,
  "maxStock": 1000
}
```

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `inventory.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯Ø©
- `inventory.update` - ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ§Øª ÙˆØ­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.delete` - Ø­Ø°Ù Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ StockItem
```sql
model StockItem {
  id                String   @id @default(cuid()) @db.VarChar(50)
  warehouseId       String   @db.VarChar(50)
  productVariantId  String   @db.VarChar(50)
  quantity          Decimal  @db.Decimal(10, 3)
  minStock          Decimal  @default(0) @db.Decimal(10, 3)
  maxStock          Decimal  @default(1000) @db.Decimal(10, 3)

  warehouse       Warehouse      @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
  productVariant  ProductVariant @relation(fields: [productVariantId], references: [id], onDelete: Cascade)

  movements StockMovement[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([warehouseId, productVariantId])
  @@map("stock_items")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ StockMovement
```sql
model StockMovement {
  id                String   @id @default(cuid()) @db.VarChar(50)
  warehouseId       String   @db.VarChar(50)
  productVariantId  String   @db.VarChar(50)
  movementType      String   @db.VarChar(50) // in, out, adjustment, transfer
  quantity          Decimal  @db.Decimal(10, 3)
  referenceType     String?  @db.VarChar(50) // sales, purchase, adjustment, transfer
  referenceId       String?  @db.VarChar(50)
  reason            String?  @db.Text
  performedBy       String?  @db.VarChar(50) // User ID

  warehouse       Warehouse      @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
  productVariant  ProductVariant @relation(fields: [warehouseId, productVariantId], references: [warehouseId, productVariantId], onDelete: Cascade)

  createdAt DateTime @default(now())

  @@map("stock_movements")
  @@index([warehouseId])
  @@index([productVariantId])
  @@index([referenceType])
  @@index([referenceId])
}
```

### Ù…Ù†Ø·Ù‚ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- **Ù…Ø®Ø²ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ**: `quantity > minStock && quantity <= maxStock`
- **Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶**: `quantity <= minStock`
- **Ù…Ø®Ø²ÙˆÙ† Ù…Ø±ØªÙØ¹**: `quantity > maxStock`
- **Ù…Ø®Ø²ÙˆÙ† ÙØ§Ø±Øº**: `quantity = 0`

#### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù†Ø®ÙØ¶ Ø¹Ù†Ø¯ `quantity <= minStock`
- ØªÙ†Ø¨ÙŠÙ‡ Ù…Ø±ØªÙØ¹ Ø¹Ù†Ø¯ `quantity > maxStock`
- ØªÙ†Ø¨ÙŠÙ‡ ÙØ§Ø±Øº Ø¹Ù†Ø¯ `quantity = 0`

### Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù†:
- Ø§Ù„Ø§ØªØ³Ø§Ù‚ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø¨Ø¯Ù‚Ø©

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
npm run inventory:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory Management)

### Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯
```bash
POST /inventory/stock-items
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "warehouseId": "warehouse_id",
  "productVariantId": "variant_id",
  "quantity": 100,
  "minStock": 10,
  "maxStock": 500
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
GET /inventory/stock-items - Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
GET /inventory/stock-items?warehouseId=xyz - Ù…Ø®Ø²ÙˆÙ† Ù…Ø®Ø²Ù† Ù…Ø­Ø¯Ø¯
GET /inventory/stock-items?lowStockOnly=true - Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶ ÙÙ‚Ø·
GET /inventory/stock-items/:id - ØªÙØ§ØµÙŠÙ„ Ø¹Ù†ØµØ± Ù…Ø®Ø²ÙˆÙ†
PATCH /inventory/stock-items/:id - ØªØ­Ø¯ÙŠØ« Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```

### ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
POST /inventory/stock-items/:warehouseId/:productVariantId/adjust
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "quantity": 50,
  "movementType": "purchase",
  "referenceType": "purchase_order",
  "referenceId": "PO-001",
  "reason": "Ø´Ø±Ø§Ø¡ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯ Ø£Ø­Ù…Ø¯"
}
```

#### Ø£Ù†ÙˆØ§Ø¹ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `adjustment`: ØªØ¹Ø¯ÙŠÙ„ ÙŠØ¯ÙˆÙŠ
- `purchase`: Ø´Ø±Ø§Ø¡ Ù…Ù† Ù…ÙˆØ±Ø¯
- `sale`: Ø¨ÙŠØ¹ Ù„Ø¹Ù…ÙŠÙ„
- `transfer_in`: Ù†Ù‚Ù„ ÙˆØ§Ø±Ø¯ Ù…Ù† Ù…Ø®Ø²Ù† Ø¢Ø®Ø±
- `transfer_out`: Ù†Ù‚Ù„ ØµØ§Ø¯Ø± Ù„Ù…Ø®Ø²Ù† Ø¢Ø®Ø±
- `return`: Ù…Ø±ØªØ¬Ø¹ Ù…Ù† Ø¹Ù…ÙŠÙ„
- `initial`: Ù…Ø®Ø²ÙˆÙ† Ø£ÙˆÙ„ÙŠ

### ØªØªØ¨Ø¹ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¹Ø±Ø¶ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
GET /inventory/movements - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙƒØ§Øª
GET /inventory/movements?warehouseId=xyz - Ø­Ø±ÙƒØ§Øª Ù…Ø®Ø²Ù† Ù…Ø­Ø¯Ø¯
GET /inventory/movements?productVariantId=xyz - Ø­Ø±ÙƒØ§Øª Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø¯
GET /inventory/movements?limit=20 - ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
```

### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
```bash
GET /inventory/alerts/low-stock
Authorization: Bearer <admin_token>
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /inventory/stats
Authorization: Bearer <admin_token>
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø°Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø¯ÙˆÙ† Ù…Ø®Ø²ÙˆÙ†
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø°Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø±ØªÙØ¹
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ù…Ø®Ø²ÙˆÙ† Ù…Ù†ØªØ¬ Ø¹Ø¨Ø± Ø§Ù„Ù…Ø®Ø§Ø²Ù†
```bash
GET /inventory/products/:productVariantId/stock
Authorization: Bearer <admin_token>
```

#### Ù…Ø®Ø²ÙˆÙ† Ù…Ø®Ø²Ù† ÙƒØ§Ù…Ù„
```bash
GET /inventory/warehouses/:warehouseId/stock
Authorization: Bearer <admin_token>
```

### Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªØ­Ø¯ÙŠØ« Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```bash
PATCH /inventory/stock-items/:id
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "minStock": 5,
  "maxStock": 1000
}
```

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `inventory.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯Ø©
- `inventory.update` - ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ§Øª ÙˆØ­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `inventory.delete` - Ø­Ø°Ù Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ StockItem
```sql
model StockItem {
  id                String  @id @default(cuid()) @db.VarChar(50)
  warehouseId       String  @db.VarChar(50)
  productVariantId  String  @db.VarChar(50)
  quantity          Decimal @db.Decimal(10, 3)
  minStock          Decimal @default(0) @db.Decimal(10, 3)
  maxStock          Decimal @default(1000) @db.Decimal(10, 3)

  warehouse Warehouse @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
  productVariant ProductVariant @relation(fields: [productVariantId], references: [id], onDelete: Cascade)

  movements StockMovement[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([warehouseId, productVariantId])
  @@map("stock_items")
}
```

#### Ù†Ù…ÙˆØ°Ø¬ StockMovement
```sql
model StockMovement {
  id                String   @id @default(cuid()) @db.VarChar(50)
  warehouseId       String   @db.VarChar(50)
  productVariantId  String   @db.VarChar(50)
  movementType      String   @db.VarChar(50) // in, out, adjustment, transfer
  quantity          Decimal  @db.Decimal(10, 3)
  referenceType     String?  @db.VarChar(50) // sales, purchase, adjustment, transfer
  referenceId       String?  @db.VarChar(50)
  reason            String?  @db.Text
  performedBy       String?  @db.VarChar(50) // User ID

  warehouse Warehouse @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
  productVariant ProductVariant @relation(fields: [productVariantId], references: [id], onDelete: Cascade)
  stockItem StockItem @relation(fields: [warehouseId, productVariantId], references: [warehouseId, productVariantId], onDelete: Cascade)

  createdAt DateTime @default(now())

  @@map("stock_movements")
  @@index([warehouseId])
  @@index([productVariantId])
  @@index([referenceType])
  @@index([referenceId])
}
```

### Ù…Ù†Ø·Ù‚ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- **Ù…Ø®Ø²ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ**: `quantity > minStock && quantity <= maxStock`
- **Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶**: `quantity <= minStock`
- **Ù…Ø®Ø²ÙˆÙ† Ù…Ø±ØªÙØ¹**: `quantity > maxStock`
- **Ù…Ø®Ø²ÙˆÙ† ÙØ§Ø±Øº**: `quantity = 0`

#### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù†Ø®ÙØ¶ Ø¹Ù†Ø¯ `quantity <= minStock`
- ØªÙ†Ø¨ÙŠÙ‡ Ù…Ø±ØªÙØ¹ Ø¹Ù†Ø¯ `quantity > maxStock`
- ØªÙ†Ø¨ÙŠÙ‡ ÙØ§Ø±Øº Ø¹Ù†Ø¯ `quantity = 0`

### Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù†:
- Ø§Ù„Ø§ØªØ³Ø§Ù‚ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø¨Ø¯Ù‚Ø©

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
npm run accounting:test
```

## Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Basic Accounting System)

### Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª (Chart of Accounts)

#### Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ GL Ø¬Ø¯ÙŠØ¯
```bash
POST /accounting/gl-accounts
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "accountCode": "5003",
  "name": "Ù…ØµØ±ÙˆÙØ§Øª Ø¥Ø¹Ù„Ø§Ù†ÙŠØ©",
  "description": "Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„ØªØ³ÙˆÙŠÙ‚",
  "accountType": "expense",
  "parentId": null,
  "isActive": true,
  "isSystem": false
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª GL
```bash
GET /accounting/gl-accounts - Ù‚Ø§Ø¦Ù…Ø© Ø­Ø³Ø§Ø¨Ø§Øª GL
GET /accounting/gl-accounts/:id - ØªÙØ§ØµÙŠÙ„ Ø­Ø³Ø§Ø¨ GL
PATCH /accounting/gl-accounts/:id - ØªØ­Ø¯ÙŠØ« Ø­Ø³Ø§Ø¨ GL
DELETE /accounting/gl-accounts/:id - Ø­Ø°Ù Ø­Ø³Ø§Ø¨ GL
```

### Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (Journal Entries)

#### Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ÙŠÙˆÙ…ÙŠ
```bash
POST /accounting/journal-entries
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "entryNumber": "JE-001-2025",
  "description": "Ù‚ÙŠØ¯ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ",
  "referenceType": "test",
  "referenceId": "test-001",
  "sourceModule": "accounting",
  "status": "draft",
  "isSystem": false,
  "lines": [
    {
      "debitAccountId": "cash-account-id",
      "creditAccountId": "sales-revenue-account-id",
      "amount": 1000.00,
      "description": "Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù†Ù‚Ø¯ÙŠØ©",
      "referenceType": "test",
      "referenceId": "test-001"
    }
  ]
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
```bash
GET /accounting/journal-entries - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
GET /accounting/journal-entries/:id - ØªÙØ§ØµÙŠÙ„ Ù‚ÙŠØ¯ ÙŠÙˆÙ…ÙŠ
PATCH /accounting/journal-entries/:id/post - Ø§Ø¹ØªÙ…Ø§Ø¯ Ù‚ÙŠØ¯
PATCH /accounting/journal-entries/:id/unpost - Ø¥Ù„ØºØ§Ø¡ Ø§Ø¹ØªÙ…Ø§Ø¯
```

### Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

#### Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
```bash
POST /accounting/setup/system-accounts
Authorization: Bearer <admin_token>
```

**Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©:**
- `1001`: Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© (Asset)
- `1002`: Ø§Ù„Ù…Ø¯ÙŠÙ†ÙˆÙ† (Asset)
- `1003`: Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Asset)
- `2001`: Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ† (Liability)
- `2002`: Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© (Liability)
- `3001`: Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ (Equity)
- `3002`: Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­ØªØ¬Ø²Ø© (Equity)
- `4001`: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Revenue)
- `4002`: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø£Ø®Ø±Ù‰ (Revenue)
- `5001`: ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ø¶Ø§Ø¦Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø¹Ø© (Expense)
- `5002`: Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© (Expense)

### Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

#### Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
```typescript
// ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª
POST /accounting/auto/sales/{salesInvoiceId}
{
  "customerId": "customer-id",
  "totalAmount": 500.00,
  "taxAmount": 50.00
}
```

**Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…ÙÙ†Ø´Ø£:**
```
Ù…Ø¯ÙŠÙ†: Ø§Ù„Ù…Ø¯ÙŠÙ†ÙˆÙ† (1002)           550.00
Ø¯Ø§Ø¦Ù†: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (4001)     500.00
Ø¯Ø§Ø¦Ù†: Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (2002)       50.00
```

#### Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
```typescript
// ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø´ØªØ±ÙŠØ§Øª
POST /accounting/auto/purchase/{purchaseInvoiceId}
{
  "supplierId": "supplier-id",
  "totalAmount": 300.00,
  "taxAmount": 0.00
}
```

**Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…ÙÙ†Ø´Ø£:**
```
Ù…Ø¯ÙŠÙ†: Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (1003)             300.00
Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ† (2001)             300.00
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /accounting/stats/overview
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¹Ø¯Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª GL (Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„Ù†Ø´Ø·Ø©)
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
- Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ØŒ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©ØŒ Ø§Ù„Ù…Ø³ÙˆØ¯Ø©)
- Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© (Ø§Ù„Ø£ØµÙˆÙ„ØŒ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§ØªØŒ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©ØŒ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª)
- ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­

### Ù‡ÙŠÙƒÙ„ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª

#### ØªØµÙ†ÙŠÙ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
```
1000-1999: Ø§Ù„Ø£ØµÙˆÙ„ (Assets)
  - 1100: Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø©
  - 1200: Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ©
  - 1300: Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø£Ø®Ø±Ù‰

2000-2999: Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª (Liabilities)
  - 2100: Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø©
  - 2200: Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ø£Ø¬Ù„

3000-3999: Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ© (Equity)
  - 3100: Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„
  - 3200: Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­ØªØ¬Ø²Ø©

4000-4999: Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Revenue)
  - 4100: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
  - 4200: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø£Ø®Ø±Ù‰

5000-5999: Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª (Expenses)
  - 5100: ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
  - 5200: Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
  - 5300: Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©
```

### Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙØ·Ø¨Ù‚Ø©

#### 1. Ù…Ø¨Ø¯Ø£ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬
```typescript
// ÙƒÙ„ Ù‚ÙŠØ¯ ÙŠÙˆÙ…ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ØªÙˆØ§Ø²Ù†Ø§Ù‹
const totalDebit = lines.reduce((sum, line) => sum + line.amount, 0);
const totalCredit = lines.reduce((sum, line) => sum + line.amount, 0);

if (totalDebit !== totalCredit) {
  throw new BadRequestException('Ø§Ù„Ù‚ÙŠØ¯ ØºÙŠØ± Ù…ØªÙˆØ§Ø²Ù†');
}
```

#### 2. Ù…Ø¨Ø¯Ø£ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬
ÙƒÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ù…Ø§Ù„ÙŠØ© ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„:
- Ø­Ø³Ø§Ø¨ Ù…Ø¯ÙŠÙ† ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
- Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø¦Ù† ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
- Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø¯ÙŠÙ† = Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø§Ø¦Ù†

#### 3. Ù…Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©
Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ø³ØªÙ…Ø± Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø«Ø¨Øª Ø§Ù„Ø¹ÙƒØ³ØŒ Ù„Ø°Ù„Ùƒ Ù„Ø§ Ù†Ù‚ÙˆÙ… Ø¨ØªØµÙÙŠØ© Ø§Ù„Ø£ØµÙˆÙ„ ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª ÙÙŠ Ù†Ù‡Ø§ÙŠØ© ÙƒÙ„ ÙØªØ±Ø©.

#### 4. Ù…Ø¨Ø¯Ø£ Ø§Ù„ØªØ·Ø§Ø¨Ù‚
ÙŠØªÙ… Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ø¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ù‡Ø§ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©.

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `accounting.gl_accounts.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª GL
- `accounting.gl_accounts.read` - Ù‚Ø±Ø§Ø¡Ø© Ø­Ø³Ø§Ø¨Ø§Øª GL
- `accounting.gl_accounts.update` - ØªØ­Ø¯ÙŠØ« Ø­Ø³Ø§Ø¨Ø§Øª GL
- `accounting.gl_accounts.delete` - Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ø§Øª GL
- `accounting.journal_entries.create` - Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙˆØ¯ ÙŠÙˆÙ…ÙŠØ©
- `accounting.journal_entries.read` - Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
- `accounting.journal_entries.post` - Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯
- `accounting.journal_entries.unpost` - Ø¥Ù„ØºØ§Ø¡ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯
- `accounting.setup` - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù…
- `accounting.reports` - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- `accounting.export` - ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `accounting.auto_entries` - Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

### Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ GLAccount
```sql
model GLAccount {
  id          String   @id @default(cuid()) @db.VarChar(50)
  accountCode String   @unique @db.VarChar(20)
  name        String   @db.VarChar(255)
  description String?  @db.Text
  accountType String   @db.VarChar(50) // asset, liability, equity, revenue, expense

  parentId    String?  @db.VarChar(50)
  parent      GLAccount? @relation("GLAccountHierarchy", fields: [parentId], references: [id])
  children    GLAccount[] @relation("GLAccountHierarchy")

  isActive    Boolean  @default(true)
  isSystem    Boolean  @default(false)

  debitBalance  Decimal @default(0) @db.Decimal(15, 2)
  creditBalance Decimal @default(0) @db.Decimal(15, 2)

  debitEntries  JournalEntryLine[] @relation("DebitAccount")
  creditEntries JournalEntryLine[] @relation("CreditAccount")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

#### Ù†Ù…ÙˆØ°Ø¬ JournalEntry
```sql
model JournalEntry {
  id              String   @id @default(cuid()) @db.VarChar(50)
  entryNumber     String   @unique @db.VarChar(20)
  entryDate       DateTime @default(now())
  description     String   @db.Text
  referenceType   String?  @db.VarChar(50)
  referenceId     String?  @db.VarChar(50)
  sourceModule    String?  @db.VarChar(50)

  status          String   @default("draft") @db.VarChar(20) // draft, posted, reversed
  isSystem        Boolean  @default(false)

  totalDebit      Decimal  @default(0) @db.Decimal(15, 2)
  totalCredit     Decimal  @default(0) @db.Decimal(15, 2)

  createdBy       String?  @db.VarChar(50)
  creator         User?    @relation(fields: [createdBy], references: [id])

  lines           JournalEntryLine[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

### Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ø®Ø±Ù‰

#### Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
```typescript
// Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª
await accountingService.createSalesJournalEntry(
  salesInvoice.id,
  salesInvoice.customerId,
  salesInvoice.totalAmount,
  salesInvoice.taxAmount,
  userId
);
```

#### Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
```typescript
// Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø´ØªØ±ÙŠØ§Øª
await accountingService.createPurchaseJournalEntry(
  purchaseInvoice.id,
  purchaseInvoice.supplierId,
  purchaseInvoice.totalAmount,
  purchaseInvoice.taxAmount,
  userId
);
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
npm run accounting:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customer Management)

### Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
```bash
POST /customers
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
  "phone": "+966501234567",
  "email": "ahmed.mohamed@example.com",
  "address": "Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø­ÙŠ Ø§Ù„Ø¹Ù„ÙŠØ§ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯",
  "taxNumber": "1234567890",
  "creditLimit": 5000.00,
  "birthday": "1990-05-15",
  "gender": "male",
  "marketingConsent": true,
  "isActive": true
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
```bash
GET /customers - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
GET /customers/search - Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
GET /customers/:id - ØªÙØ§ØµÙŠÙ„ Ø¹Ù…ÙŠÙ„
PATCH /customers/:id - ØªØ­Ø¯ÙŠØ« Ø¹Ù…ÙŠÙ„
DELETE /customers/:id - Ø­Ø°Ù Ø¹Ù…ÙŠÙ„
```

### Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ„Ø§Ø¡ ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª

#### Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙˆÙ„Ø§Ø¡
```bash
GET /customers/:id/loyalty
```

**Ø§Ù„Ø±Ø¯:**
```json
{
  "currentTier": "silver",
  "pointsToNextTier": 500,
  "nextTier": "gold",
  "tierBenefits": ["Ø®ØµÙ… 5% Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª", "Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ 200 Ø±.Ø³"],
  "recentTransactions": [
    {
      "type": "sale",
      "amount": 299.99,
      "pointsEarned": 30,
      "date": "2025-01-15T10:30:00Z"
    }
  ]
}
```

#### ØªØ­Ø¯ÙŠØ« Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡
```bash
PATCH /customers/:id/loyalty-points
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "pointsChange": 50,
  "reason": "Ù…ÙƒØ§ÙØ£Ø© Ø®Ø§ØµØ© Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ù…ÙŠØ²"
}
```

### Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙˆÙ„Ø§Ø¡

#### Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
- **Bronze**: Ù…Ø´ØªØ±ÙŠØ§Øª Ø£Ù‚Ù„ Ù…Ù† 1000 Ø±.Ø³
  - ÙÙˆØ§Ø¦Ø¯: Ø®ØµÙ… 2% Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- **Silver**: Ù…Ø´ØªØ±ÙŠØ§Øª Ù…Ù† 1000 Ø¥Ù„Ù‰ 4999 Ø±.Ø³
  - ÙÙˆØ§Ø¦Ø¯: Ø®ØµÙ… 5% + Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ ÙÙˆÙ‚ 200 Ø±.Ø³
- **Gold**: Ù…Ø´ØªØ±ÙŠØ§Øª Ù…Ù† 5000 Ø¥Ù„Ù‰ 14999 Ø±.Ø³
  - ÙÙˆØ§Ø¦Ø¯: Ø®ØµÙ… 10% + Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ + Ø¯Ø¹Ù… ÙÙ†ÙŠ Ø£ÙˆÙ„ÙˆÙŠØ©
- **Platinum**: Ù…Ø´ØªØ±ÙŠØ§Øª Ø£ÙƒØ«Ø± Ù…Ù† 15000 Ø±.Ø³
  - ÙÙˆØ§Ø¦Ø¯: Ø®ØµÙ… 15% + Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ + Ø¯Ø¹Ù… ÙÙ†ÙŠ Ø£ÙˆÙ„ÙˆÙŠØ© + Ù‡Ø¯Ø§ÙŠØ§ Ø´Ù‡Ø±ÙŠØ©

#### ÙƒÙŠÙÙŠØ© ÙƒØ³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
- **Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª**: 1 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ 10 Ø±ÙŠØ§Ù„
- **Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø®Ø§ØµØ©**: Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©
- **Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª**: Ù†Ù‚Ø§Ø· Ù„Ø¥Ø­Ø¶Ø§Ø± Ø¹Ù…Ù„Ø§Ø¡ Ø¬Ø¯Ø¯

### Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

#### Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
```bash
GET /customers/search?query=Ø£Ø­Ù…Ø¯&loyaltyTier=silver&minPurchases=1000&maxPurchases=5000&hasMarketingConsent=true&gender=male
```

**Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«:**
- Ø§Ù„Ù†Øµ: Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù†
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆÙ„Ø§Ø¡: ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆÙ„Ø§Ø¡
- Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª: Ù†Ø·Ø§Ù‚ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©: Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø°ÙŠÙ† ÙˆØ§ÙÙ‚ÙˆØ§ Ø¹Ù„Ù‰ Ø§Ù„ØªØ³ÙˆÙŠÙ‚
- Ø§Ù„Ø¬Ù†Ø³: ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¬Ù†Ø³

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /customers/stats/overview
GET /customers/stats/overview?startDate=2025-01-01&endDate=2025-12-31
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ†
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
- Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- Ø¹Ù…Ù„Ø§Ø¡ Ø¬Ø¯Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±
- Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ù„ÙƒÙ„ Ø¹Ù…ÙŠÙ„

### ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

#### Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
```typescript
// Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª
customerService.updateCustomerStatsOnSale(customerId, saleAmount, paymentMethod);
```

**Ù…Ø§ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± Ø´Ø±Ø§Ø¡
- Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆÙ„Ø§Ø¡
- Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ÙØ¶Ù„Ø©

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `customers.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…Ù„Ø§Ø¡ Ø¬Ø¯Ø¯
- `customers.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `customers.update` - ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `customers.delete` - Ø­Ø°Ù Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `customers.reports` - Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- `customers.export` - ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `customers.marketing` - Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ ØªØ³ÙˆÙŠÙ‚ÙŠØ©

### Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ Customer Ø§Ù„Ù…ÙˆØ³Ø¹
```sql
model Customer {
  id          String   @id @default(cuid()) @db.VarChar(50)
  name        String   @db.VarChar(255)
  phone       String?  @db.VarChar(50)
  email       String?  @db.VarChar(255)
  address     String?  @db.Text
  taxNumber   String?  @db.VarChar(100)
  creditLimit Decimal? @db.Decimal(10, 2)

  // Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ„Ø§Ø¡
  loyaltyPoints         Int      @default(0)
  loyaltyTier          String   @default("bronze") @db.VarChar(20)
  totalPurchases       Decimal  @default(0) @db.Decimal(12, 2)
  lastPurchaseDate     DateTime?
  preferredPaymentMethod String? @db.VarChar(50)

  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©
  birthday             DateTime?
  gender               String?  @db.VarChar(10) // male, female, other
  marketingConsent     Boolean  @default(false)

  isActive    Boolean  @default(true)

  salesInvoices SalesInvoice[]
  payments      Payment[]
  returns       Return[]
  creditNotes   CreditNote[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("customers")
  @@index([email])
  @@index([phone])
  @@index([loyaltyTier])
  @@index([lastPurchaseDate])
}
```

### Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©

#### Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
2. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³Ø¬Ù„**: Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆÙ†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ„Ø§Ø¡
3. **ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰**: ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø§Ù„Ø£ÙˆÙ„ÙŠ (Bronze)

#### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
1. **Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª**: Ø²ÙŠØ§Ø¯Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
2. **ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰**: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ±Ù‚ÙŠØ© Ù„Ù…Ø³ØªÙˆÙ‰ Ø£Ø¹Ù„Ù‰
3. **ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®**: ØªØ³Ø¬ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± Ø´Ø±Ø§Ø¡
4. **ØªØªØ¨Ø¹ Ø§Ù„Ø¯ÙØ¹**: Ø­ÙØ¸ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ÙØ¶Ù„Ø©

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ„Ø§Ø¡
1. **ÙƒØ³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ù† Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª
2. **Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª
3. **Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©**: Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù†Ù‚Ø§Ø· (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
4. **Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±**: ØªØªØ¨Ø¹ Ø£Ø¯Ø§Ø¡ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙˆÙ„Ø§Ø¡

### Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù†:
- Ø§Ù„Ø§ØªØ³Ø§Ù‚ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª
- ØªØªØ¨Ø¹ Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- Ø³Ù„Ø§Ù…Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ„Ø§Ø¡

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
npm run customers:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª (Purchasing Management)

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ±Ø¯ Ø¬Ø¯ÙŠØ¯
```bash
POST /purchasing/suppliers
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "Ù…ÙˆØ±Ø¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª",
  "contactName": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  "phone": "+966501234567",
  "email": "supplier@example.com",
  "address": "Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",
  "taxNumber": "1234567890",
  "paymentTerms": "Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…",
  "isActive": true
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
```bash
GET /purchasing/suppliers - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
GET /purchasing/suppliers/:id - ØªÙØ§ØµÙŠÙ„ Ù…ÙˆØ±Ø¯
PATCH /purchasing/suppliers/:id - ØªØ­Ø¯ÙŠØ« Ù…ÙˆØ±Ø¯
DELETE /purchasing/suppliers/:id - Ø­Ø°Ù Ù…ÙˆØ±Ø¯
```

### Ø¥Ø¯Ø§Ø±Ø© Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡

#### Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø´Ø±Ø§Ø¡ Ø¬Ø¯ÙŠØ¯
```bash
POST /purchasing/orders
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "supplierId": "supplier_id",
  "warehouseId": "warehouse_id",
  "expectedDate": "2025-12-31",
  "lines": [
    {
      "productId": "product_id",
      "quantity": 10,
      "unitCost": 150.00
    }
  ],
  "notes": "Ø£Ù…Ø± Ø´Ø±Ø§Ø¡ Ø¹Ø§Ø¬Ù„"
}
```

#### ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
```bash
PATCH /purchasing/orders/:id/status
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "status": "approved" // draft, approved, ordered, received, cancelled
}
```

### Ø¥Ø¯Ø§Ø±Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡ Ø¬Ø¯ÙŠØ¯Ø©
```bash
POST /purchasing/invoices
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "invoiceNumber": "PURCHASE-INV-001", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ - ÙŠÙÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
  "supplierId": "supplier_id",
  "warehouseId": "warehouse_id",
  "purchaseOrderId": "order_id", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ
  "currencyId": "currency_id",
  "invoiceDate": "2025-01-15",
  "dueDate": "2025-02-15",
  "lines": [
    {
      "productVariantId": "variant_id",
      "quantity": 10,
      "unitCost": 150.00,
      "discountAmount": 50.00,
      "taxAmount": 22.50
    }
  ],
  "status": "received",
  "notes": "ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡ Ù…Ù† Ù…ÙˆØ±Ø¯ Ù…ÙˆØ«ÙˆÙ‚"
}
```

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙØ¹Ø© Ù„ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡
```bash
POST /purchasing/invoices/:id/payments
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "amount": 1500.00,
  "paymentMethod": "bank_transfer",
  "referenceNumber": "REF-123456",
  "notes": "Ø¯ÙØ¹Ø© Ø¬Ø²Ø¦ÙŠØ©"
}
```

### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª

#### Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- **Ø§Ù„Ù…ÙˆØ±Ø¯**: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…ÙˆØ±Ø¯ Ù†Ø´Ø·Ø§Ù‹
- **Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª**: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
- **Ø§Ù„ÙƒÙ…ÙŠØ§Øª**: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ù…ÙˆØ¬Ø¨Ø©
- **Ø§Ù„Ø£Ø³Ø¹Ø§Ø±**: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ØµØ­ÙŠØ­Ø©

### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ù† Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª

#### Ù…Ù†Ø·Ù‚ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```typescript
// Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡ - Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
inventoryService.adjustStock(warehouseId, productVariantId, {
  quantity: purchaseQuantity,
  movementType: 'purchase',
  referenceType: 'purchase_invoice',
  referenceId: purchaseInvoiceId,
  reason: `ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡ - ${invoiceNumber}`
});
```

### Ø­Ø§Ù„Ø§Øª Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø£Ù…Ø±
- `draft`: Ù…Ø³ÙˆØ¯Ø©
- `approved`: Ù…Ø¹ØªÙ…Ø¯Ø©
- `ordered`: ØªÙ… Ø§Ù„Ø·Ù„Ø¨
- `received`: ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
- `cancelled`: Ù…Ù„ØºØ§Ø©

### Ø­Ø§Ù„Ø§Øª ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©
- `draft`: Ù…Ø³ÙˆØ¯Ø©
- `received`: ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
- `approved`: Ù…Ø¹ØªÙ…Ø¯Ø©
- `paid`: Ù…Ø¯ÙÙˆØ¹Ø©
- `cancelled`: Ù…Ù„ØºØ§Ø©

### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¯ÙØ¹
- `pending`: Ù…Ø¹Ù„Ù‚
- `partial`: Ø¬Ø²Ø¦ÙŠ
- `paid`: Ù…Ø¯ÙÙˆØ¹

### Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹

- `cash`: Ù†Ù‚Ø¯ÙŠ
- `bank_transfer`: ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ
- `check`: Ø´ÙŠÙƒ
- `credit_card`: Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /purchasing/stats/overview
GET /purchasing/stats/overview?startDate=2025-01-01&endDate=2025-12-31
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙˆØ§Ù„Ù†Ø´Ø·ÙŠÙ†
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø©
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚ Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `purchasing.suppliers.create` - Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ±Ø¯ÙŠÙ† Ø¬Ø¯Ø¯
- `purchasing.suppliers.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- `purchasing.suppliers.update` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- `purchasing.suppliers.delete` - Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- `purchasing.orders.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
- `purchasing.orders.read` - Ù‚Ø±Ø§Ø¡Ø© Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
- `purchasing.orders.update` - ØªØ­Ø¯ÙŠØ« Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
- `purchasing.invoices.create` - Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡
- `purchasing.invoices.read` - Ù‚Ø±Ø§Ø¡Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡
- `purchasing.payments.create` - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- `purchasing.reports.read` - Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ Supplier
```sql
model Supplier {
  id          String   @id @default(cuid()) @db.VarChar(50)
  name        String   @db.VarChar(255)
  contactName String?  @db.VarChar(255)
  phone       String?  @db.VarChar(50)
  email       String?  @db.VarChar(255)
  address     String?  @db.Text
  taxNumber   String?  @db.VarChar(100)
  paymentTerms String? @db.VarChar(255) // Ø´Ø±ÙˆØ· Ø§Ù„Ø¯ÙØ¹
  isActive    Boolean  @default(true)

  purchaseOrders   PurchaseOrder[]
  purchaseInvoices PurchaseInvoice[]
  purchasePayments PurchasePayment[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("suppliers")
  @@index([email])
  @@index([phone])
}
```

#### Ù†Ù…ÙˆØ°Ø¬ PurchaseOrder
```sql
model PurchaseOrder {
  id              String   @id @default(cuid()) @db.VarChar(50)
  orderNumber     String   @unique @db.VarChar(50)
  supplierId      String   @db.VarChar(50)
  warehouseId     String   @db.VarChar(50)
  requestedBy     String   @db.VarChar(50) // User ID

  expectedDate    DateTime?
  notes           String?  @db.Text

  status          String   @default("draft") @db.VarChar(50) // draft, approved, ordered, received, cancelled

  supplier        Supplier   @relation(fields: [supplierId], references: [id])
  warehouse       Warehouse  @relation(fields: [warehouseId], references: [id])
  requester       User       @relation(fields: [requestedBy], references: [id])

  lines           PurchaseOrderLine[]
  purchaseInvoices PurchaseInvoice[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("purchase_orders")
  @@index([supplierId])
  @@index([warehouseId])
  @@index([status])
  @@index([orderNumber])
}
```

#### Ù†Ù…ÙˆØ°Ø¬ PurchaseInvoice
```sql
model PurchaseInvoice {
  id              String   @id @default(cuid()) @db.VarChar(50)
  invoiceNumber   String   @unique @db.VarChar(50)
  supplierId      String   @db.VarChar(50)
  warehouseId     String   @db.VarChar(50)
  receivedBy      String   @db.VarChar(50) // User ID
  purchaseOrderId String?  @db.VarChar(50)

  subtotal        Decimal  @db.Decimal(10, 2)
  taxAmount       Decimal  @default(0) @db.Decimal(10, 2)
  discountAmount  Decimal  @default(0) @db.Decimal(10, 2)
  totalAmount     Decimal  @db.Decimal(10, 2)

  currencyId      String   @db.VarChar(50)

  invoiceDate     DateTime @default(now())
  dueDate         DateTime?

  status          String   @default("draft") @db.VarChar(50) // draft, received, approved, paid, cancelled
  paymentStatus   String   @default("pending") @db.VarChar(50) // pending, partial, paid

  notes           String?  @db.Text

  supplier        Supplier        @relation(fields: [supplierId], references: [id])
  warehouse       Warehouse       @relation(fields: [warehouseId], references: [id])
  receiver        User            @relation(fields: [receivedBy], references: [id])
  purchaseOrder   PurchaseOrder?  @relation(fields: [purchaseOrderId], references: [id])
  currency        Currency        @relation(fields: [currencyId], references: [id])

  lines           PurchaseInvoiceLine[]
  payments        PurchasePayment[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("purchase_invoices")
  @@index([supplierId])
  @@index([warehouseId])
  @@index([purchaseOrderId])
  @@index([status])
  @@index([paymentStatus])
  @@index([invoiceNumber])
}
```

### Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©

#### Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø´Ø±Ø§Ø¡
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…ÙˆØ±Ø¯ ÙˆÙ†Ø´Ø§Ø·Ù‡
2. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
3. **Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù‚Ù… Ø§Ù„Ø£Ù…Ø±**: ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø£Ù…Ø± ÙØ±ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
4. **Ø­ÙØ¸ Ø§Ù„Ø£Ù…Ø±**: Ø­ÙØ¸ Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ¨Ù†ÙˆØ¯Ù‡

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø´Ø±Ø§Ø¡
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯ ÙˆØ§Ù„Ù…Ø®Ø²Ù†**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
2. **Ø±Ø¨Ø· Ø¨Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡**: Ø±Ø¨Ø· Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¥Ù† ÙˆØ¬Ø¯
3. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ø§Ù…ÙŠØ¹**: Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ù„Ø¶Ø±Ø§Ø¦Ø¨
4. **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**: Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±Ø§Ø© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
5. **ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ù…Ø±**: ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¥Ù„Ù‰ "received"

#### Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø´Ø±Ø§Ø¡
2. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ Ù„Ù… ÙŠØªÙ… Ø¯ÙØ¹Ù‡ Ø¨Ø¹Ø¯
3. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
4. **ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹**: ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø¯ÙØ¹ Ø§Ù„ÙØ§ØªÙˆØ±Ø©

### Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù†:
- Ø§Ù„Ø§ØªØ³Ø§Ù‚ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ø¯Ù‚Ø©
- ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
npm run purchasing:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Sales Management)

### Ø¥Ø¯Ø§Ø±Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
```bash
POST /sales/invoices
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "invoiceNumber": "INV-001", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ - ÙŠÙÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØ­Ø¯Ø¯
  "branchId": "branch_id",
  "customerId": "customer_id", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ
  "warehouseId": "warehouse_id",
  "currencyId": "currency_id",
  "taxId": "tax_id", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ
  "lines": [
    {
      "productVariantId": "variant_id",
      "quantity": 2,
      "unitPrice": 199.99,
      "discountAmount": 10.00,
      "taxAmount": 0.00
    }
  ],
  "status": "confirmed",
  "notes": "ÙØ§ØªÙˆØ±Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©",
  "dueDate": "2025-12-31"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
```bash
GET /sales/invoices - Ù‚Ø§Ø¦Ù…Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
GET /sales/invoices?status=confirmed - ÙÙˆØ§ØªÙŠØ± Ù…Ø¤ÙƒØ¯Ø© ÙÙ‚Ø·
GET /sales/invoices?customerId=xyz - ÙÙˆØ§ØªÙŠØ± Ø¹Ù…ÙŠÙ„ Ù…Ø­Ø¯Ø¯
GET /sales/invoices/:id - ØªÙØ§ØµÙŠÙ„ ÙØ§ØªÙˆØ±Ø©
PATCH /sales/invoices/:id - ØªØ­Ø¯ÙŠØ« ÙØ§ØªÙˆØ±Ø©
DELETE /sales/invoices/:id/cancel - Ø¥Ù„ØºØ§Ø¡ ÙØ§ØªÙˆØ±Ø©
GET /sales/invoices/:id/print - Ø·Ø¨Ø§Ø¹Ø© ÙØ§ØªÙˆØ±Ø©
```

### Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª

#### Ø¥Ø¶Ø§ÙØ© Ø¯ÙØ¹Ø© Ù„ÙØ§ØªÙˆØ±Ø©
```bash
POST /sales/invoices/:invoiceId/payments
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "currencyId": "currency_id",
  "amount": 399.98,
  "paymentMethod": "cash",
  "referenceNumber": "PAY-001",
  "notes": "Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ ÙƒØ§Ù…Ù„"
}
```

#### Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
- `cash`: Ù†Ù‚Ø¯ÙŠ
- `card`: Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†
- `bank_transfer`: ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ
- `check`: Ø´ÙŠÙƒ
- `digital_wallet`: Ù…Ø­ÙØ¸Ø© Ø±Ù‚Ù…ÙŠØ©

### Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª

#### Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø¬Ø§Ù…ÙŠØ¹
```typescript
// Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ = Ø§Ù„ÙƒÙ…ÙŠØ© Ã— Ø§Ù„Ø³Ø¹Ø±
subtotal = quantity * unitPrice

// Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ… = Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ - Ø§Ù„Ø®ØµÙ…
afterDiscount = subtotal - discountAmount

// Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ = Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ… + Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
totalAmount = afterDiscount + taxAmount
```

### Ø¥Ø¯Ø§Ø±Ø© Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª

#### Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
```json
{
  "lines": [
    {
      "productVariantId": "variant1",
      "quantity": 2,
      "unitPrice": 199.99,
      "discountAmount": 10.00
    },
    {
      "productVariantId": "variant2",
      "quantity": 1,
      "unitPrice": 299.99,
      "discountAmount": 0.00
    }
  ]
}
```

### Ø­Ø§Ù„Ø§Øª ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©
- `draft`: Ù…Ø³ÙˆØ¯Ø©
- `confirmed`: Ù…Ø¤ÙƒØ¯Ø©
- `cancelled`: Ù…Ù„ØºØ§Ø©
- `refunded`: Ù…Ø³ØªØ±Ø¯Ø©

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¯ÙØ¹
- `pending`: Ù…Ø¹Ù„Ù‚
- `partial`: Ø¬Ø²Ø¦ÙŠ
- `paid`: Ù…Ø¯ÙÙˆØ¹
- `refunded`: Ù…Ø³ØªØ±Ø¯

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /sales/stats
GET /sales/stats?branchId=xyz
GET /sales/stats?startDate=2025-01-01&endDate=2025-12-31
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¤ÙƒØ¯Ø© ÙˆØ§Ù„Ù…Ù„ØºØ§Ø©
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø¶Ø±Ø§Ø¦Ø¨ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª
- Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© Ø§Ù„Ø¯ÙØ¹ ÙˆÙ…Ø¯ÙÙˆØ¹Ø©
- Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©

### ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„ÙØ±ÙˆØ¹

#### ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ù…ÙŠÙ„
```bash
GET /sales/customers/:customerId/invoices
```

#### ÙÙˆØ§ØªÙŠØ± Ø§Ù„ÙØ±Ø¹
```bash
GET /sales/branches/:branchId/invoices
```

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `sales.read` - Ù‚Ø±Ø§Ø¡Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `sales.create` - Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `sales.update` - ØªØ­Ø¯ÙŠØ« ÙˆØ¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- `sales.delete` - Ø­Ø°Ù Ø§Ù„ÙÙˆØ§ØªÙŠØ± (Ø¥Ù„ØºØ§Ø¡)

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ SalesInvoice
```sql
model SalesInvoice {
  id              String   @id @default(cuid()) @db.VarChar(50)
  invoiceNumber   String   @unique @db.VarChar(50)
  branchId        String   @db.VarChar(50)
  customerId      String?  @db.VarChar(50)
  cashierId       String   @db.VarChar(50)
  warehouseId     String   @db.VarChar(50)

  subtotal        Decimal  @db.Decimal(10, 2)
  taxAmount       Decimal  @default(0) @db.Decimal(10, 2)
  discountAmount  Decimal  @default(0) @db.Decimal(10, 2)
  totalAmount     Decimal  @db.Decimal(10, 2)

  currencyId      String   @db.VarChar(50)
  taxId           String?  @db.VarChar(50)

  status          String   @default("draft") @db.VarChar(50)
  paymentStatus   String   @default("pending") @db.VarChar(50)

  notes           String?  @db.Text
  dueDate         DateTime?

  branch          Branch       @relation(fields: [branchId], references: [id])
  customer        Customer?    @relation(fields: [customerId], references: [id])
  cashier         User         @relation(fields: [cashierId], references: [id])
  warehouse       Warehouse    @relation(fields: [warehouseId], references: [id])
  currency        Currency     @relation(fields: [currencyId], references: [id])
  tax             Tax?         @relation(fields: [taxId], references: [id])

  lines           SalesInvoiceLine[]
  payments        Payment[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("sales_invoices")
  @@index([branchId])
  @@index([customerId])
  @@index([cashierId])
  @@index([warehouseId])
  @@index([status])
  @@index([paymentStatus])
  @@index([invoiceNumber])
}
```

#### Ù†Ù…ÙˆØ°Ø¬ Payment
```sql
model Payment {
  id              String   @id @default(cuid()) @db.VarChar(50)
  salesInvoiceId  String?  @db.VarChar(50)
  customerId      String?  @db.VarChar(50)
  currencyId      String   @db.VarChar(50)

  amount          Decimal  @db.Decimal(10, 2)
  paymentMethod   String   @db.VarChar(50)
  referenceNumber String?  @db.VarChar(100)
  notes           String?  @db.Text

  paymentDate     DateTime @default(now())
  processedBy     String?  @db.VarChar(50)

  salesInvoice    SalesInvoice? @relation(fields: [salesInvoiceId], references: [id])
  customer        Customer?     @relation(fields: [customerId], references: [id])
  currency        Currency      @relation(fields: [currencyId], references: [id])
  processor       User?         @relation(fields: [processedBy], references: [id])

  @@map("payments")
  @@index([salesInvoiceId])
  @@index([customerId])
  @@index([currencyId])
  @@index([paymentMethod])
}
```

### Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©

#### Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
2. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±**: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø£Ùˆ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
3. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ø§Ù…ÙŠØ¹**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª ÙˆØ§Ù„Ø¶Ø±Ø§Ø¦Ø¨ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª
4. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©**: Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ù„Ø¨Ù†ÙˆØ¯
5. **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**: Ø¥Ù†Ù‚Ø§Øµ ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
6. **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ§Øª**: ØªØ³Ø¬ÙŠÙ„ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¥Ø¶Ø§ÙØ© Ø¯ÙØ¹Ø©
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
2. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø©**: Ù…Ø·Ø§Ø¨Ù‚Ø© Ø¹Ù…Ù„Ø© Ø§Ù„Ø¯ÙØ¹Ø© Ù…Ø¹ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
3. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚
4. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚
5. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¯ÙØ¹Ø©**: Ø­ÙØ¸ Ø§Ù„Ø¯ÙØ¹Ø©
6. **ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹**: ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø¯ÙØ¹ Ø§Ù„ÙØ§ØªÙˆØ±Ø©

#### Ø¥Ù„ØºØ§Ø¡ ÙØ§ØªÙˆØ±Ø©
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
2. **Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**: Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
3. **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©**: ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¥Ù„Ù‰ Ù…Ù„ØºØ§Ø©
4. **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø³Ø¨Ø¨**: Ø­ÙØ¸ Ø³Ø¨Ø¨ Ø§Ù„Ø¥Ù„ØºØ§Ø¡

### Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù†:
- Ø§Ù„Ø§ØªØ³Ø§Ù‚ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ø¯Ù‚Ø©
- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
npm run returns:test
```

## Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª (Returns Management)

### Ø¥Ø¯Ø§Ø±Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø±ØªØ¬Ø¹ Ø¬Ø¯ÙŠØ¯
```bash
POST /returns
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "returnNumber": "RTN-001", // Ø§Ø®ØªÙŠØ§Ø±ÙŠ - ÙŠÙÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
  "salesInvoiceId": "sales_invoice_id",
  "warehouseId": "warehouse_id",
  "reason": "Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¹ÙŠØ¨",
  "lines": [
    {
      "productVariantId": "variant_id",
      "quantity": 1,
      "unitPrice": 199.99,
      "discountAmount": 0.00,
      "taxAmount": 0.00,
      "reason": "Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¹ÙŠØ¨ ÙˆÙ„Ù† ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¨ÙŠØ¹Ù‡"
    }
  ],
  "status": "confirmed",
  "notes": "Ù…Ø±ØªØ¬Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
```bash
GET /returns - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
GET /returns?salesInvoiceId=xyz - Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙØ§ØªÙˆØ±Ø© Ù…Ø­Ø¯Ø¯Ø©
GET /returns?customerId=xyz - Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø¹Ù…ÙŠÙ„ Ù…Ø­Ø¯Ø¯
GET /returns?status=confirmed - Ù…Ø±ØªØ¬Ø¹Ø§Øª Ù…Ø¤ÙƒØ¯Ø©
GET /returns/:id - ØªÙØ§ØµÙŠÙ„ Ù…Ø±ØªØ¬Ø¹
PATCH /returns/:id - ØªØ­Ø¯ÙŠØ« Ù…Ø±ØªØ¬Ø¹
DELETE /returns/:id/cancel - Ø¥Ù„ØºØ§Ø¡ Ù…Ø±ØªØ¬Ø¹
```

### Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¯Ø§Ø¦Ù†Ø©

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø± Ø¯Ø§Ø¦Ù† Ù„Ù„Ù…Ø±ØªØ¬Ø¹
```bash
POST /returns/:returnId/credit-notes
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "amount": 199.99,
  "expiryDate": "2025-12-31",
  "notes": "Ø¥Ø´Ø¹Ø§Ø± Ø¯Ø§Ø¦Ù† Ù„Ù„Ù…Ø±ØªØ¬Ø¹"
}
```

### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

#### Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- **ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª**: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù…Ø¤ÙƒØ¯Ø©
- **Ø§Ù„ÙƒÙ…ÙŠØ§Øª**: Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø±ØªØ¬Ø¹ ÙƒÙ…ÙŠØ© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©
- **Ø§Ù„Ù…Ø®Ø²Ù†**: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù†ÙØ³ Ù…Ø®Ø²Ù† ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- **Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª**: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

#### Ù…Ù†Ø·Ù‚ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```typescript
// Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø±ØªØ¬Ø¹ - Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
inventoryService.adjustStock(warehouseId, productVariantId, {
  quantity: returnQuantity,
  movementType: 'return',
  referenceType: 'return',
  referenceId: returnId,
  reason: 'Ù…Ø±ØªØ¬Ø¹ - ${returnNumber}'
});

// Ø¹Ù†Ø¯ Ø¥Ù„ØºØ§Ø¡ Ù…Ø±ØªØ¬Ø¹ - Ø¥Ù†Ù‚Ø§Øµ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
inventoryService.adjustStock(warehouseId, productVariantId, {
  quantity: -returnQuantity,
  movementType: 'adjustment',
  referenceType: 'return_cancelled',
  referenceId: returnId,
  reason: 'Ø¥Ù„ØºØ§Ø¡ Ù…Ø±ØªØ¬Ø¹'
});
```

### Ø­Ø§Ù„Ø§Øª ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹
- `draft`: Ù…Ø³ÙˆØ¯Ø©
- `confirmed`: Ù…Ø¤ÙƒØ¯Ø©
- `cancelled`: Ù…Ù„ØºØ§Ø©
- `refunded`: Ù…Ø³ØªØ±Ø¯Ø©

#### Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
- `pending`: Ù…Ø¹Ù„Ù‚
- `partial`: Ø¬Ø²Ø¦ÙŠ
- `refunded`: Ù…Ø³ØªØ±Ø¯

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©
```bash
GET /returns/stats/overview
GET /returns/stats/overview?startDate=2025-01-01&endDate=2025-12-31
```

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªØ´Ù…Ù„:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø§Ù„Ù…Ø¤ÙƒØ¯Ø© ÙˆØ§Ù„Ù…Ù„ØºØ§Ø©
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹ ÙˆÙƒÙ„ÙŠØ§Ù‹
- Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹

### Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„ÙÙˆØ§ØªÙŠØ±

#### Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª
```bash
GET /returns/sales-invoices/:salesInvoiceId/returns
```

#### Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
```bash
GET /returns/customers/:customerId/returns
```

### Ø£Ø°ÙˆÙ†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©

- `returns.read` - Ù‚Ø±Ø§Ø¡Ø© ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- `returns.create` - Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- `returns.update` - ØªØ­Ø¯ÙŠØ« ÙˆØ¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- `returns.delete` - Ø­Ø°Ù Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ù†Ù…ÙˆØ°Ø¬ Return
```sql
model Return {
  id              String   @id @default(cuid()) @db.VarChar(50)
  returnNumber    String   @unique @db.VarChar(50)
  salesInvoiceId  String   @db.VarChar(50)
  customerId      String?  @db.VarChar(50)
  cashierId       String   @db.VarChar(50)
  warehouseId     String   @db.VarChar(50)

  subtotal        Decimal  @db.Decimal(10, 2)
  taxAmount       Decimal  @default(0) @db.Decimal(10, 2)
  discountAmount  Decimal  @default(0) @db.Decimal(10, 2)
  totalAmount     Decimal  @db.Decimal(10, 2)

  currencyId      String   @db.VarChar(50)
  reason          String   @db.Text

  status          String   @default("draft") @db.VarChar(50)
  refundStatus    String   @default("pending") @db.VarChar(50)

  notes           String?  @db.Text

  salesInvoice    SalesInvoice @relation(fields: [salesInvoiceId], references: [id])
  customer        Customer?    @relation(fields: [customerId], references: [id])
  cashier         User         @relation(fields: [cashierId], references: [id])
  warehouse       Warehouse    @relation(fields: [warehouseId], references: [id])
  currency        Currency     @relation(fields: [currencyId], references: [id])

  lines           ReturnLine[]
  creditNotes     CreditNote[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("returns")
  @@index([salesInvoiceId])
  @@index([customerId])
  @@index([cashierId])
  @@index([warehouseId])
  @@index([status])
  @@index([refundStatus])
  @@index([returnNumber])
}
```

#### Ù†Ù…ÙˆØ°Ø¬ CreditNote
```sql
model CreditNote {
  id              String   @id @default(cuid()) @db.VarChar(50)
  creditNoteNumber String  @unique @db.VarChar(50)
  returnId        String   @db.VarChar(50)
  customerId      String?  @db.VarChar(50)
  currencyId      String   @db.VarChar(50)

  amount          Decimal  @db.Decimal(10, 2)
  remainingAmount Decimal  @db.Decimal(10, 2)

  status          String   @default("active") @db.VarChar(50)
  expiryDate      DateTime?

  notes           String?  @db.Text

  return          Return     @relation(fields: [returnId], references: [id])
  customer        Customer?  @relation(fields: [customerId], references: [id])
  currency        Currency   @relation(fields: [currencyId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("credit_notes")
  @@index([returnId])
  @@index([customerId])
  @@index([currencyId])
  @@index([status])
  @@index([creditNoteNumber])
}
```

### Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©

#### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø±ØªØ¬Ø¹
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ­Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
2. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙ…ÙŠØ§Øª**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ØªØ¬Ø§ÙˆØ² Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©
3. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø¹Ø§Ø± ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©
4. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø±ØªØ¬Ø¹**: Ø­ÙØ¸ Ø§Ù„Ù…Ø±ØªØ¬Ø¹ ÙˆØ¨Ù†ÙˆØ¯Ù‡
5. **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**: Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
6. **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ§Øª**: ØªØ³Ø¬ÙŠÙ„ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø± Ø¯Ø§Ø¦Ù†
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø±ØªØ¬Ø¹**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹ ÙˆØ­Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
2. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ù‡ Ø¨Ø¹Ø¯
3. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
4. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±**: Ø­ÙØ¸ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¯Ø§Ø¦Ù†
5. **ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯**: ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹

#### Ø¥Ù„ØºØ§Ø¡ Ù…Ø±ØªØ¬Ø¹
1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©**: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø±ØªØ¬Ø¹ Ù…Ø³Ø¨Ù‚Ø§Ù‹
2. **Ø¥Ù†Ù‚Ø§Øµ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**: Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø© Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
3. **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©**: ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹ Ø¥Ù„Ù‰ Ù…Ù„ØºØ§Ø©
4. **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø³Ø¨Ø¨**: Ø­ÙØ¸ Ø³Ø¨Ø¨ Ø§Ù„Ø¥Ù„ØºØ§Ø¡

### Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù†:
- Ø§Ù„Ø§ØªØ³Ø§Ù‚ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ø¯Ù‚Ø©
- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
npm run returns:test
```

## Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/                 # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚   â”œâ”€â”€ common/                 # Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©
â”‚   â”‚   â”œâ”€â”€ decorators/         # Decorators Ù…Ø®ØµØµØ©
â”‚   â”‚   â”œâ”€â”€ guards/            # Guards Ù„Ù„Ø£Ù…Ø§Ù†
â”‚   â”‚   â”œâ”€â”€ interceptors/      # Interceptors
â”‚   â”‚   â”œâ”€â”€ filters/           # Exception Filters
â”‚   â”‚   â”œâ”€â”€ pipes/             # Validation Pipes
â”‚   â”‚   â””â”€â”€ dto/               # DTOs Ù…Ø´ØªØ±ÙƒØ©
â”‚   â”œâ”€â”€ modules/               # ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
â”‚   â”‚   â”œâ”€â”€ auth/              # ÙˆØ­Ø¯Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”‚   â”œâ”€â”€ sales/             # ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
â”‚   â”‚   â”œâ”€â”€ inventory/         # ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
â”‚   â”‚   â”œâ”€â”€ purchasing/        # ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
â”‚   â”‚   â”œâ”€â”€ accounting/        # ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
â”‚   â”‚   â”œâ”€â”€ reporting/         # ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
â”‚   â”‚   â””â”€â”€ sync/              # ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
â”‚   â”œâ”€â”€ shared/                # Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©
â”‚   â”‚   â”œâ”€â”€ database/          # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”‚   â”œâ”€â”€ cache/             # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒØ§Ø´
â”‚   â”‚   â”œâ”€â”€ queue/             # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø¨ÙŠØ±
â”‚   â”‚   â”œâ”€â”€ storage/           # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ†
â”‚   â”‚   â””â”€â”€ logger/            # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
â”‚   â””â”€â”€ utils/                 # Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
â”œâ”€â”€ test/                      # Ù…Ù„ÙØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
â””â”€â”€ scripts/                   # Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
```

## Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Prisma
- ØªÙƒÙˆÙŠÙ† Prisma Schema Ø§Ù„ÙƒØ§Ù…Ù„
- Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (User, Role, Branch, Company, Warehouse)
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø¯Ù…Ø© Prisma ÙˆÙˆØ­Ø¯ØªÙ‡Ø§
- Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ© Ø´Ø§Ù…Ù„Ø©
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª Ø§Ø®ØªØ¨Ø§Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§ØªØµØ§Ù„ Redis Ø§Ù„ÙƒØ§Ù…Ù„
- Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© Cache Ø´Ø§Ù…Ù„Ø© Ù…Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- Ø¥Ø¹Ø¯Ø§Ø¯ Session Store Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ù„Ø³Ø§Øª
- ØªÙƒÙˆÙŠÙ† Cache Module Ø§Ù„Ø¹Ø§Ù…
- Ø¥Ø¶Ø§ÙØ© Cache Interceptors Ù„Ù„Ù€ HTTP requests
- Ø¥Ù†Ø´Ø§Ø¡ Cache Decorators Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³Ù‡Ù„
- Ø¥Ø¹Ø¯Ø§Ø¯ Ù†Ø¸Ø§Ù… Ø¥Ø¨Ø·Ø§Ù„ Ø§Ù„ÙƒØ§Ø´ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Response Interceptor Ù„ØªÙˆØ­ÙŠØ¯ Ø´ÙƒÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª
- Ø¨Ù†Ø§Ø¡ Exception Filters Ø´Ø§Ù…Ù„ Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- Ø¥Ù†Ø´Ø§Ø¡ Validation Exception Filter Ù…Ø®ØµØµ
- Ø¥Ù†Ø´Ø§Ø¡ DTOs Ù…Ø´ØªØ±ÙƒØ© Ù„Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ù€ pagination
- ØªÙƒÙˆÙŠÙ† Custom Validation Pipe Ù…Ø¹ ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©
- Ø¥Ø¶Ø§ÙØ© Logging Interceptor Ø´Ø§Ù…Ù„ Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… Error Codes Ù…ÙˆØ­Ø¯ Ù…Ø¹ Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø±Ø¨ÙŠØ©
- Ø¥Ø¹Ø¯Ø§Ø¯ Ù†Ø¸Ø§Ù… Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª Ù…ÙˆØ­Ø¯ Ù…Ø¹ metadata Ùˆpagination

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Permission Decorators Ø´Ø§Ù…Ù„ (@Permissions, @Public, @RequireRead, etc.)
- Ø¨Ù†Ø§Ø¡ Permission Guard Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- Ø¥Ø¹Ø¯Ø§Ø¯ JWT Strategy Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ù…ÙŠØ²Ø©
- Ø¥Ù†Ø´Ø§Ø¡ Local Strategy Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- Ø¨Ù†Ø§Ø¡ JWT Auth Guard Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù€ endpoints
- Ø¥Ù†Ø´Ø§Ø¡ Role Guard Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
- ØªÙƒÙˆÙŠÙ† Auth Module Ù„ØªÙ†Ø¸ÙŠÙ… Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- Ø¥Ø¹Ø¯Ø§Ø¯ Global Guards Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ endpoints
- Ø¥Ø¶Ø§ÙØ© Permission Checker Ù…Ø³Ø§Ø¹Ø¯ Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Auth Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ø¨Ù†Ø§Ø¡ Auth Controller Ù…Ø¹ endpoints ÙƒØ§Ù…Ù„Ø©
- Ø¥Ø¶Ø§ÙØ© JWT token generation Ùˆ refresh mechanism
- ØªÙƒÙˆÙŠÙ† Refresh token logic Ù…Ø¹ validation
- Ø¥Ù†Ø´Ø§Ø¡ Password hashing utilities Ù…Ø¹ bcrypt
- Ø¥Ø¶Ø§ÙØ© User registration Ù…Ø¹ validation Ø´Ø§Ù…Ù„
- ØªÙƒÙˆÙŠÙ† Session management ÙÙŠ Redis
- Ø¥Ø¹Ø¯Ø§Ø¯ DTOs Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Login, Register, Change Password, etc.)
- Ø¥Ø¶Ø§ÙØ© Local Auth Guard Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Permission System

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 7 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Role Service Ø´Ø§Ù…Ù„ Ù…Ø¹ CRUD operations
- Ø¨Ù†Ø§Ø¡ Role Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¶Ø§ÙØ© Permission Service Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù‡Ø±Ù…ÙŠ Ù…ØªØ·ÙˆØ±
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ÙØµÙ„Ø© (140+ ØµÙ„Ø§Ø­ÙŠØ© Ù…Ù†Ø¸Ù…Ø©)
- Ø±Ø¨Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ù…Ø¹ validation
- Ù†Ø¸Ø§Ù… ØµÙ„Ø§Ø­ÙŠØ§Øª Ù‡Ø±Ù…ÙŠ Ù…Ø¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø£Ø¨ ÙˆØ§Ù„ÙØ±Ø¹ÙŠØ©
- Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø§Øª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (system, users, products, sales, etc.)
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Cache system Ù„Ù„Ø£Ø¯Ø§Ø¡
- Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù€ endpoints Ø¨Ø£Ø¯ÙˆØ§Ø± ÙˆØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯Ø¯Ø©
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 8 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Branch Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„ÙØ±ÙˆØ¹
- Ø¨Ù†Ø§Ø¡ Branch Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¶Ø§ÙØ© Warehouse Service Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¥Ù†Ø´Ø§Ø¡ Warehouse Controller Ù…Ø¹ endpoints Ù…ØªÙƒØ§Ù…Ù„Ø©
- Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹ Ø¨Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- Branch-based filtering Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ù†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®Ø§Ø²Ù† Ù…Ø¹ ØªØªØ¨Ø¹ Ø§Ù„Ø­Ø±ÙƒØ§Øª
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù†
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø±
- Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ validation Ø´Ø§Ù…Ù„
- Ù†Ø¸Ø§Ù… ÙƒØ§Ø´ Ù…Ø­Ø³Ù† Ù„Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
- Ø¥Ø¶Ø§ÙØ© Ù†Ù…Ø§Ø°Ø¬ StockItem Ùˆ StockMovement Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 9 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Product Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
- Ø¨Ù†Ø§Ø¡ Product Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¶Ø§ÙØ© Category Service Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù‡Ø±Ù…ÙŠ Ù…ØªØ·ÙˆØ± Ù„Ù„ÙØ¦Ø§Øª
- Ø¥Ù†Ø´Ø§Ø¡ Category Controller Ù…Ø¹ endpoints Ù…ØªÙƒØ§Ù…Ù„Ø©
- Ø¥Ø¯Ø§Ø±Ø© Product Variants Ù…Ø¹ Ø®ØµØ§Ø¦Øµ Ù…Ø®ØµØµØ© (Ø§Ù„Ø£Ù„ÙˆØ§Ù†ØŒ Ø§Ù„Ø£Ø­Ø¬Ø§Ù…ØŒ Ø¥Ù„Ø®)
- Ø¥Ù†Ø´Ø§Ø¡ ProductVariant Controller Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø©
- Ù†Ø¸Ø§Ù… Barcode Ùˆ SKU Ù…Ø¹ validation Ùˆ uniqueness
- Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ ÙˆØ§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙØ¦Ø©
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„ØªÙƒØ§Ù„ÙŠÙ Ù…Ø¹ validation Ø¯Ù‚ÙŠÙ‚
- Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù‡Ø±Ù…ÙŠ Ù…Ø¹ Ù…Ù†Ø¹ Ø§Ù„Ø­Ù„Ù‚Ø§Øª
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„ÙØ¦Ø§Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„ÙƒØ§Ø´
- validation Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ø¥Ø¶Ø§ÙØ© Ù†Ù…Ø§Ø°Ø¬ Product Ùˆ Category Ùˆ ProductVariant Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 10 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Inventory Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¨Ù†Ø§Ø¡ Inventory Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¯Ø§Ø±Ø© Stock Items Ù…Ø¹ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ ÙˆØ§Ù„Ø£Ù‚ØµÙ‰)
- Ù†Ø¸Ø§Ù… Stock Movements Ù…Ø¹ ØªØªØ¨Ø¹ Ø´Ø§Ù…Ù„ Ù„Ù„Ø­Ø±ÙƒØ§Øª
- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶ ÙˆØ§Ù„Ù…Ø±ØªÙØ¹
- ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ø¹ validation Ø´Ø§Ù…Ù„
- ØªÙ‚Ø§Ø±ÙŠØ± Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª
- Ø¹Ø±Ø¶ Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬ Ø¹Ø¨Ø± Ø§Ù„Ù…Ø®Ø§Ø²Ù†
- Ø¹Ø±Ø¶ Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„ÙƒØ§Ù…Ù„
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„ÙƒØ§Ø´
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§ØªØ³Ø§Ù‚
- Ø£Ù†ÙˆØ§Ø¹ Ø­Ø±ÙƒØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© (Ø´Ø±Ø§Ø¡ØŒ Ø¨ÙŠØ¹ØŒ ØªØ¹Ø¯ÙŠÙ„ØŒ Ù†Ù‚Ù„ØŒ Ø¥Ø±Ø¬Ø§Ø¹)

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 11 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Sales Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø¨Ù†Ø§Ø¡ Sales Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¯Ø§Ø±Ø© Sales Invoices Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… ÙÙˆØ§ØªÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© ÙˆØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹
- Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- Ø¥Ø¯Ø§Ø±Ø© Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Øª
- Ø¥Ø¯Ø§Ø±Ø© ÙÙˆØ§ØªÙŠØ± Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„ÙƒØ§Ø´
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø§ØªØ³Ø§Ù‚

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 12 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Returns Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- Ø¨Ù†Ø§Ø¡ Returns Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¯Ø§Ø±Ø© Return Invoices Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… Ù…Ø±ØªØ¬Ø¹Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø§Ù„ÙƒÙ„ÙŠØ© ÙˆØ§Ù„Ø¬Ø²Ø¦ÙŠØ© Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙ…ÙŠØ§Øª
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª (Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª)
- Ø¥Ù†Ø´Ø§Ø¡ Credit Notes Ù„Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø§Ù„ÙŠ
- Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø£ØµÙ„ÙŠ
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ§Ù„Ø¥Ø±Ø¬Ø§Ø¹Ø§Øª
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
- Ø±Ø¨Ø· Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø¨ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ…Ù†Ø¹ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ØºÙŠØ± Ø§Ù„ØµØ­ÙŠØ­Ø©
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„ÙƒØ§Ø´
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø§ØªØ³Ø§Ù‚

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 13 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Purchasing Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- Ø¨Ù†Ø§Ø¡ Purchasing Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¯Ø§Ø±Ø© Suppliers Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ù…Ø§Ù„ÙŠØ©
- Ø¥Ø¯Ø§Ø±Ø© Purchase Orders Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙˆØªØªØ¨Ø¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª
- Ø¥Ø¯Ø§Ø±Ø© Purchase Invoices Ù…Ø¹ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡
- Ù…Ø¹Ø§Ù„Ø¬Ø© Purchase Payments Ù…Ø¹ ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø§Øª Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ (draft, approved, ordered, received, cancelled)
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø§Øª ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡ (draft, received, approved, paid, cancelled)
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª (pending, partial, paid)
- Ø¯Ø¹Ù… Ø·Ø±Ù‚ Ø¯ÙØ¹ Ù…ØªØ¹Ø¯Ø¯Ø© (cash, bank_transfer, check, credit_card)
- Ø±Ø¨Ø· ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø£ØµÙ„ÙŠØ©
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ…Ù†Ø¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ØºÙŠØ± Ø§Ù„ØµØ­ÙŠØ­Ø©
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„ÙƒØ§Ø´
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø§ØªØ³Ø§Ù‚

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 14 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Customer Service Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
- Ø¨Ù†Ø§Ø¡ Customer Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints
- Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©
- Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©
- ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- Ø¥Ø¯Ø§Ø±Ø© Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù† ÙˆØ·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ÙØ¶Ù„Ø©
- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- ØªØªØ¨Ø¹ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„ÙˆÙ„Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡ Ù…Ù† Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- ØªØ±Ù‚ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙˆÙ„Ø§Ø¡
- Ø¥Ø¯Ø§Ø±Ø© Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡ ÙˆØ¥Ø¶Ø§ÙØ©/Ø®ØµÙ… Ø§Ù„Ù†Ù‚Ø§Ø·
- ÙÙˆØ§Ø¦Ø¯ Ù…Ø®ØªÙ„ÙØ© Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆÙ„Ø§Ø¡
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø§ØªØ³Ø§Ù‚

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 15 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Accounting Service Ø´Ø§Ù…Ù„ Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- Ø¨Ù†Ø§Ø¡ Accounting Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©
- Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª (Chart of Accounts) Ù…Ø¹ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù‡Ø±Ù…ÙŠ
- Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬
- Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª GL Ø¨Ø£Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„ÙØ© (Ø£ØµÙˆÙ„ØŒ Ø§Ù„ØªØ²Ø§Ù…Ø§ØªØŒ Ø­Ù‚ÙˆÙ‚ Ù…Ù„ÙƒÙŠØ©ØŒ Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ù…ØµØ±ÙˆÙØ§Øª)
- Ø§Ø¹ØªÙ…Ø§Ø¯ ÙˆØ¥Ù„ØºØ§Ø¡ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù…Ø¹ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø©
- Ù‚ÙŠÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©ØŒ Ø§Ù„Ù…Ø¯ÙŠÙ†ÙˆÙ†ØŒ Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ†ØŒ Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ø¥Ù„Ø®)
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ (Ø§Ù„Ø­Ø³Ø§Ø¨Ø§ØªØŒ Ø§Ù„Ù‚ÙŠÙˆØ¯ØŒ Ø§Ù„Ø£Ø±ØµØ¯Ø©)
- Ù…Ù†Ø¹ Ø§Ù„Ø­Ù„Ù‚Ø§Øª ÙÙŠ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù‡Ø±Ù…ÙŠ Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª
- Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…ÙŠØ© Ù…Ù† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ØºÙŠØ± Ø§Ù„Ù…ØµØ±Ø­
- ØªØªØ¨Ø¹ Ù…ØµØ¯Ø± Ø§Ù„Ù‚ÙŠÙˆØ¯ (ÙŠØ¯ÙˆÙŠ/ØªÙ„Ù‚Ø§Ø¦ÙŠ) ÙˆÙˆØ­Ø¯Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ù‚ÙŠÙˆØ¯ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¶Ù…Ø§Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„ÙƒØ§Ø´
- Ø¯Ø¹Ù… Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ ÙˆØ§Ù„ØªØªØ¨Ø¹ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 16 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ Reporting Service Ø´Ø§Ù…Ù„ Ù„ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
- Ø¨Ù†Ø§Ø¡ Reporting Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø´Ø§Ù…Ù„Ø© Ù…Ø¹ ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ÙØµÙ„Ø© (ÙŠÙˆÙ…ÙŠØŒ Ø´Ù‡Ø±ÙŠØŒ Ø­Ø³Ø¨ Ø§Ù„ÙØªØ±Ø©)
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ù…Ø¹ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
- Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ø¹ Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹ØŒ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ØŒ ÙˆØ§Ù„Ù…Ù†ØªØ¬
- ØªØ­Ù„ÙŠÙ„ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± Ø­Ø±ÙƒØ©
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„ÙˆÙ„Ø§Ø¡ ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„ÙŠ
- Ù†Ø¸Ø§Ù… ÙƒØ§Ø´ Ø°ÙƒÙŠ Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± (5-30 Ø¯Ù‚ÙŠÙ‚Ø© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±)
- Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…Ø¬Ù…Ø¹Ø© ÙˆÙ…Ø­Ø³Ù†Ø© Ù„ØªÙ‚Ù„ÙŠÙ„ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- validation Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙÙ„Ø§ØªØ±
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… (Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ù…Ø®Ø²ÙˆÙ†ØŒ Ù…Ø­Ø§Ø³Ø¨Ø©ØŒ Ø¹Ù…Ù„Ø§Ø¡)
- Ø¯Ø¹Ù… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (PDF ÙˆExcel Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ·Ø¨ÙŠÙ‚)
- ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø¬Ø¯ÙˆÙ„Ø© ÙˆÙ…Ø®ØµØµØ© Ù…Ø¹ ÙÙ„Ø§ØªØ± Ù…ØªÙ‚Ø¯Ù…Ø©
- ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆÙ…Ù‚Ø§Ø±Ù†Ø§Øª Ø§Ù„ÙØªØ±Ø§Øª
- Ø£Ø°ÙˆÙ†Ø§Øª Ø£Ù…Ø§Ù† Ù…Ø­ÙƒÙ…Ø© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
- ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ù…ÙˆØ­Ø¯Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ ÙƒØ§Ù…Ù„ Ù„Ù„Ø¥Ù†ØªØ§Ø¬ Ù…Ø¹ Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ ÙˆÙ‚Ø§Ø¨Ù„ÙŠØ© ØªÙˆØ³Ø¹

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 17 âœ… (Ù…ÙƒØªÙ…Ù„Ø©)
- Ø¥Ù†Ø´Ø§Ø¡ AuditLog Entity Ø´Ø§Ù…Ù„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
- Ø¨Ù†Ø§Ø¡ Audit Service Ù…ØªÙ‚Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„ØªØªØ¨Ø¹ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„
- Ø¥Ù†Ø´Ø§Ø¡ Audit Controller Ù…Ø¹ Ø¬Ù…ÙŠØ¹ endpoints Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- Ù†Ø¸Ø§Ù… Auto-logging decorators Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª
- Audit Interceptor Ù„Ø§Ù„ØªÙ‚Ø§Ø· ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- ØªØªØ¨Ø¹ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„ØªØºÙŠÙŠØ±Ø§Øª (Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯) Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„Ø© (Ø£Ù…Ø§Ù†ØŒ Ø§Ù…ØªØ«Ø§Ù„ØŒ Ù†Ø´Ø§Ø·ØŒ ØªØºÙŠÙŠØ±Ø§Øª)
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- Ù†Ø¸Ø§Ù… ØªØµÙ†ÙŠÙ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (business, security, system, audit)
- ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù† Ù…Ø¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- Ù†Ø¸Ø§Ù… ÙƒØ§Ø´ Ø°ÙƒÙŠ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (5 Ø¯Ù‚Ø§Ø¦Ù‚)
- ØªØµØ¯ÙŠØ± Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø¥Ù„Ù‰ JSON Ù…Ø¹ ÙÙ„Ø§ØªØ± Ù…ØªÙ‚Ø¯Ù…Ø©
- ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©
- validation Ø´Ø§Ù…Ù„ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ø¢Ù…Ù†Ø©
- Ø£Ø°ÙˆÙ†Ø§Øª Ø£Ù…Ø§Ù† Ù…Ø­ÙƒÙ…Ø© (read, compliance, admin, export, cleanup)
- ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
- Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ÙˆØ§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©
- Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ ÙƒØ§Ù…Ù„ Ù„Ù„Ø¥Ù†ØªØ§Ø¬ Ù…Ø¹ Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ ÙˆØ£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù…

## ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ (Audit Module)

### Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…

ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ ØªÙˆÙØ± Ù†Ø¸Ø§Ù…Ø§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ Ù„ØªØªØ¨Ø¹ ÙˆØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©. ÙŠØ¯Ø¹Ù… Ø§Ù„Ù†Ø¸Ø§Ù…:

- **ØªØ³Ø¬ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ** Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
- **ØªØªØ¨Ø¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª** Ø§Ù„ØªÙØµÙŠÙ„ÙŠ (Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯)
- **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù†** ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„
- **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©** Ù„Ù„Ù†Ø´Ø§Ø· ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡
- **ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** Ø¨ØµÙŠØº Ù…ØªØ¹Ø¯Ø¯Ø©
- **ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ** Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ÙØ³Ø¬Ù„Ø©

#### Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†
```typescript
LOGIN_SUCCESS, LOGIN_FAILED, LOGOUT
PASSWORD_CHANGE, PERMISSION_CHANGE
```

#### Ø¹Ù…Ù„ÙŠØ§Øª CRUD
```typescript
CREATE, READ, UPDATE, DELETE
```

#### Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
```typescript
SYSTEM_MAINTENANCE, BACKUP_CREATED, ERROR_OCCURRED
```

### Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚

#### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù…
```bash
GET /audit/logs?limit=50&offset=0
```

#### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
```bash
GET /audit/logs?userId=user-1&action=UPDATE&entity=Product&startDate=2025-01-01&endDate=2025-12-31
```

**Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªØ§Ø­Ø©:**
- `userId` - ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- `action` - Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (CREATE, UPDATE, DELETE, etc)
- `entity` - Ø§Ù„ÙƒÙŠØ§Ù† Ø§Ù„Ù…ÙØ¹Ø¯Ù‘Ù„
- `entityId` - Ù…Ø¹Ø±Ù Ø§Ù„ÙƒÙŠØ§Ù† Ø§Ù„Ù…Ø­Ø¯Ø¯
- `branchId` - ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹
- `warehouseId` - ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø®Ø²Ù†
- `startDate/endDate` - Ù†Ø·Ø§Ù‚ Ø²Ù…Ù†ÙŠ
- `success` - Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (true/false)
- `severity` - Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·ÙˆØ±Ø©
- `category` - ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
- `module` - Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ù†Ø¸Ø§Ù…ÙŠØ©
- `searchText` - Ù†Øµ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ø±

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©
```bash
GET /audit/stats
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙŠÙˆÙ…ÙŠØ©/Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©/Ø´Ù‡Ø±ÙŠØ©
```bash
GET /audit/stats/daily?branchId=branch-1
GET /audit/stats/weekly?branchId=branch-1
GET /audit/stats/monthly?year=2025&month=1&branchId=branch-1
```

**ØªØ´Ù…Ù„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:**
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª
- Ø£ÙƒØ«Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø§Ø·Ø§Ù‹
- Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©

### ØªØªØ¨Ø¹ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ

#### ØªØªØ¨Ø¹ ÙƒÙŠØ§Ù† Ù…Ø­Ø¯Ø¯
```bash
GET /audit/trail/detailed/Product/product-123
```

**Ø§Ù„Ø¹Ø§Ø¦Ø¯:**
```json
{
  "entity": "Product",
  "entityId": "product-123",
  "currentState": { /* Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© */ },
  "changeHistory": [
    {
      "timestamp": "2025-01-15T10:30:00Z",
      "action": "UPDATE",
      "user": "admin",
      "changes": [
        {
          "field": "name",
          "oldValue": "Ù…Ù†ØªØ¬ Ù‚Ø¯ÙŠÙ…",
          "newValue": "Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø«",
          "changeType": "modified"
        }
      ]
    }
  ],
  "summary": {
    "totalChanges": 5,
    "lastModified": "2025-01-15T10:30:00Z",
    "lastModifiedBy": "admin",
    "createdAt": "2025-01-01T09:00:00Z",
    "createdBy": "admin"
  }
}
```

### ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ù…ØªØ®ØµØµØ©

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
```bash
GET /audit/reports/errors?startDate=2025-01-01&endDate=2025-12-31
```

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù†
```bash
GET /audit/reports/security?startDate=2025-01-01&endDate=2025-12-31
```

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ø´Ø§Ø·
```bash
GET /audit/reports/activity?startDate=2025-01-01&endDate=2025-12-31
```

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„
```bash
GET /audit/reports/compliance?startDate=2025-01-01&endDate=2025-12-31
```

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
```bash
GET /audit/reports/changes?startDate=2025-01-01&endDate=2025-12-31
```

### Ù†Ø¸Ø§Ù… Auto-logging Decorators

#### Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„decorators ÙÙŠ Controllers
```typescript
import { AuditCreate, AuditUpdate, AuditDelete, AuditRead } from '../common/decorators/audit.decorators';

@Controller('products')
export class ProductController {
  @Post()
  @AuditCreate({
    entity: 'Product',
    module: 'products',
    entityIdProperty: 'result.id'
  })
  async create(@Body() createProductDto: CreateProductDto) {
    // Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø³ØªÙØ³Ø¬Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    return this.productService.create(createProductDto);
  }

  @Put(':id')
  @AuditUpdate({
    entity: 'Product',
    module: 'products',
    entityIdParam: 'id',
    includeRequestBody: true
  })
  async update(@Param('id') id: string, @Body() updateProductDto: UpdateProductDto) {
    // Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯Ø©
    return this.productService.update(id, updateProductDto);
  }

  @Delete(':id')
  @AuditDelete({
    entity: 'Product',
    module: 'products',
    entityIdParam: 'id'
  })
  async delete(@Param('id') id: string) {
    // Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø­Ø°Ù
    return this.productService.delete(id);
  }
}
```

#### Decorators Ø§Ù„Ù…ØªØ§Ø­Ø©
- `@AuditCreate()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡
- `@AuditRead()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
- `@AuditUpdate()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù‚ÙŠÙ…
- `@AuditDelete()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø°Ù
- `@AuditSecurity()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ù…Ø§Ù†
- `@AuditAuth()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- `@AuditSystem()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
- `@AuditSales()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `@AuditInventory()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `@AuditAccounting()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
- `@AuditCustomer()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `@AuditPurchasing()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
- `@AuditReporting()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- `@AuditAdmin()` - ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©

### ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### ØªØµØ¯ÙŠØ± JSON
```bash
GET /audit/export/json?startDate=2025-01-01&endDate=2025-12-31&entity=Product
```

#### ØªØµØ¯ÙŠØ± Excel (Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ·Ø¨ÙŠÙ‚)
```bash
GET /audit/export/excel?startDate=2025-01-01&endDate=2025-12-31&entity=Product
```

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª

#### ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
```bash
GET /audit/cleanup/365
```

**ÙŠØ­Ø°Ù Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ù‚Ø¯Ù… Ù…Ù† 365 ÙŠÙˆÙ…Ø§Ù‹ØŒ Ù…Ø¹ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©**

### Ø£Ø°ÙˆÙ†Ø§Øª Ø§Ù„ÙˆØµÙˆÙ„

- `audit.read` - Ù‚Ø±Ø§Ø¡Ø© Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚
- `audit.compliance` - ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„
- `audit.admin` - Ø¥Ø¯Ø§Ø±Ø© Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚
- `audit.export` - ØªØµØ¯ÙŠØ± Ø§Ù„Ø³Ø¬Ù„Ø§Øª
- `audit.cleanup` - ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

### Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ø´

#### Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ÙƒØ§Ø´ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚: 5 Ø¯Ù‚Ø§Ø¦Ù‚
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚: 10 Ø¯Ù‚Ø§Ø¦Ù‚
- ØªØªØ¨Ø¹ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ: 15 Ø¯Ù‚ÙŠÙ‚Ø©

### Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```sql
-- AuditLog table structure
CREATE TABLE audit_logs (
  id VARCHAR(50) PRIMARY KEY,
  userId VARCHAR(50),
  action VARCHAR(50) NOT NULL,
  entity VARCHAR(100) NOT NULL,
  entityId VARCHAR(50) NOT NULL,
  branchId VARCHAR(50),
  warehouseId VARCHAR(50),
  details JSONB,
  oldValues JSONB,
  newValues JSONB,
  ipAddress VARCHAR(45),
  userAgent TEXT,
  sessionId VARCHAR(100),
  success BOOLEAN DEFAULT true,
  errorMessage TEXT,
  severity VARCHAR(20) DEFAULT 'info',
  category VARCHAR(50) DEFAULT 'business',
  referenceType VARCHAR(50),
  referenceId VARCHAR(50),
  module VARCHAR(50),
  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  searchableText TEXT,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  -- Indexes for performance
  INDEX idx_audit_userId (userId),
  INDEX idx_audit_action (action),
  INDEX idx_audit_entity (entity),
  INDEX idx_audit_timestamp (timestamp),
  INDEX idx_audit_success (success),
  INDEX idx_audit_severity (severity),
  INDEX idx_audit_module (module),
  INDEX idx_audit_searchableText (searchableText)
);
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚
npm run audit:test
```

### Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª

#### 1. ØªØªØ¨Ø¹ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬
```typescript
// ÙÙŠ ProductController
@Put(':id')
@AuditUpdate({
  entity: 'Product',
  entityIdParam: 'id',
  module: 'products',
  includeRequestBody: true
})
async update(@Param('id') id: string, @Body() dto: UpdateProductDto) {
  const oldProduct = await this.productService.findOne(id);
  const result = await this.productService.update(id, dto);

  // Ø§Ù„Ù†Ø¸Ø§Ù… Ø³ÙŠØ³Ø¬Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
  // - Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ù† oldProduct
  // - Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† dto
  // - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
  return result;
}
```

#### 2. Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ù…Ø§Ù†
```typescript
// ÙÙŠ AuthController
@Post('change-password')
@AuditSecurity({
  action: 'PASSWORD_CHANGE',
  entity: 'User',
  module: 'auth',
  severity: 'warning'
})
async changePassword(@Body() dto: ChangePasswordDto, @User() user: User) {
  // Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
  return this.authService.changePassword(user.id, dto);
}
```

#### 3. ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ
```typescript
// ÙÙŠ ComplianceService
async generateDailyComplianceReport(): Promise<ComplianceReport> {
  const today = new Date();
  const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate());

  const stats = await this.auditService.getAuditStats(startOfDay, today);
  const securityReport = await this.auditService.getSecurityReport(startOfDay, today);

  return {
    date: today,
    totalEvents: stats.totalLogs,
    errorRate: stats.errorRate,
    securityIncidents: securityReport.totalSecurityEvents,
    complianceStatus: this.calculateComplianceStatus(stats, securityReport),
    recommendations: this.generateRecommendations(stats)
  };
}
```

### Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

âœ… **ØªØ³Ø¬ÙŠÙ„ Ø´Ø§Ù…Ù„** Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
âœ… **ØªØªØ¨Ø¹ ØªÙØµÙŠÙ„ÙŠ** Ù„Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù‚ÙŠÙ…
âœ… **ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…Ø©** Ù„Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„ ÙˆØ§Ù„Ù†Ø´Ø§Ø·
âœ… **Ø¨Ø­Ø« ÙˆÙÙ„ØªØ±Ø©** Ù…ØªÙ‚Ø¯Ù…Ø© Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ù†Øµ Ø§Ù„Ø­Ø±
âœ… **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©** Ù…Ø¹ ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
âœ… **ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** Ø¨ØµÙŠØº Ù…ØªØ¹Ø¯Ø¯Ø©
âœ… **ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ** Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
âœ… **Ø£Ø°ÙˆÙ†Ø§Øª Ø£Ù…Ø§Ù†** Ù…Ø­ÙƒÙ…Ø© ÙˆÙ…Ø±Ù†Ø©
âœ… **ÙƒØ§Ø´ Ø°ÙƒÙŠ** Ù„Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„ÙŠ
âœ… **ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„** Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
âœ… **decorators** Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
âœ… **ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø©** Ù…ÙˆØ­Ø¯Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
âœ… **Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ ÙƒØ§Ù…Ù„** Ù„Ù„Ø¥Ù†ØªØ§Ø¬ Ù…Ø¹ Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø¹Ø§Ù„ÙŠ

### ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø´Ø§Ù…Ù„
```bash
GET /reporting/sales?startDate=2025-01-01&endDate=2025-12-31&branchId=branch-1&customerId=customer-1
```

**Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙŠØ´Ù…Ù„:**
- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© (Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨ØŒ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª)
- Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨
- Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Ù‹
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„
- Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹

#### ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªØ®ØµØµØ©
```bash
GET /reporting/sales/monthly?year=2025&month=1&branchId=branch-1
GET /reporting/sales/daily?date=2025-01-15&branchId=branch-1
```

### ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø´Ø§Ù…Ù„
```bash
GET /reporting/inventory?warehouseId=warehouse-1&categoryId=category-1
```

**Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙŠØ´Ù…Ù„:**
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø¹Ø§Ù…Ø© (Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØŒ Ø§Ù„Ù‚ÙŠÙ…Ø©ØŒ Ø§Ù„Ù…Ù†Ø®ÙØ¶ØŒ Ø§Ù„Ù†Ø§Ù‚Øµ)
- Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ù…Ø®Ø²Ù†
- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
- Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø£Ø®ÙŠØ±Ø©
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± Ø­Ø±ÙƒØ©

#### ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªØ®ØµØµØ©
```bash
GET /reporting/inventory/low-stock?warehouseId=warehouse-1
GET /reporting/inventory/movements?warehouseId=warehouse-1&startDate=2025-01-01&endDate=2025-12-31
```

### Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª

#### Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```bash
GET /reporting/dashboard/overview?branchId=branch-1
```

**Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ´Ù…Ù„:**
- Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)
- Ù†Ø³Ø¨ Ø§Ù„ØªØºÙŠÙŠØ± Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
- Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ù„Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØªØ±Ø©
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
- Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- Ù†Ù…Ùˆ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª (Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶ØŒ Ù…Ø¯ÙÙˆØ¹Ø§Øª Ù…ØªØ£Ø®Ø±Ø©)
- Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©

#### Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ®ØµØµØ© Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª
```bash
GET /reporting/dashboard/sales?period=monthly&branchId=branch-1
GET /reporting/dashboard/inventory?warehouseId=warehouse-1
```

### Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©

#### Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ©
```bash
GET /reporting/financial/balance-sheet?asOfDate=2025-12-31
```

#### Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø®Ù„
```bash
GET /reporting/financial/profit-loss?startDate=2025-01-01&endDate=2025-12-31
```

#### Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ
```bash
GET /reporting/financial/cash-flow?startDate=2025-01-01&endDate=2025-12-31
```

#### Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„
```bash
GET /reporting/financial/comprehensive?asOfDate=2025-12-31
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
```bash
GET /accounting/stats/overview?startDate=2025-01-01&endDate=2025-12-31
```

**ØªØ´Ù…Ù„:**
- Ø¹Ø¯Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª GL (Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„Ù†Ø´Ø·)
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
- Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ØŒ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©ØŒ Ø§Ù„Ù…Ø³ÙˆØ¯Ø©)
- Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© (Ø§Ù„Ø£ØµÙˆÙ„ØŒ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§ØªØŒ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©ØŒ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª)

### ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

#### ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel
```bash
GET /reporting/sales/export/excel?startDate=2025-01-01&endDate=2025-12-31&branchId=branch-1
GET /reporting/inventory/export/excel?warehouseId=warehouse-1
```

#### ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ PDF
```bash
GET /reporting/sales/export/pdf?startDate=2025-01-01&endDate=2025-12-31&branchId=branch-1
GET /reporting/inventory/export/pdf?warehouseId=warehouse-1
```

*Ù…Ù„Ø§Ø­Ø¸Ø©: Ù…ÙŠØ²Ø§Øª Ø§Ù„ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ PDF ÙˆExcel Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©*

### Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø©

#### Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ù…Ø¬Ø¯ÙˆÙ„
```bash
GET /reporting/scheduled/sales?frequency=daily&branchId=branch-1
GET /reporting/scheduled/inventory?frequency=weekly&warehouseId=warehouse-1
```

*Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©*

### Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØµØµØ©

#### ØªÙ‚Ø±ÙŠØ± Ù…Ø®ØµØµ Ù…Ø¹ ÙÙ„Ø§ØªØ± Ù…ØªÙ‚Ø¯Ù…Ø©
```bash
GET /reporting/custom?reportType=sales&filters={"branchId":"branch-1","minAmount":100}&groupBy=category&sortBy=revenue
```

*Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØµØµØ© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©*

### ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡

#### Ù…Ù‚Ø§Ø±Ù†Ø§Øª Ø§Ù„ÙØªØ±Ø§Øª
```bash
GET /reporting/analytics/comparison?currentStart=2025-01-01&currentEnd=2025-12-31&previousStart=2024-01-01&previousEnd=2024-12-31&branchId=branch-1
```

#### ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
```bash
GET /reporting/analytics/performance?metric=sales&period=month&branchId=branch-1
```

*Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©*

### Ø£Ø°ÙˆÙ†Ø§Øª Ø§Ù„ÙˆØµÙˆÙ„

- `reporting.sales.read` - Ù‚Ø±Ø§Ø¡Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `reporting.inventory.read` - Ù‚Ø±Ø§Ø¡Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `reporting.financial.read` - Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©
- `reporting.dashboard.read` - Ù‚Ø±Ø§Ø¡Ø© Ù„ÙˆØ­Ø§Øª Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª
- `reporting.export` - ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- `reporting.scheduled` - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø©
- `reporting.custom` - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØµØµØ©
- `reporting.analytics` - Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ø°ÙƒÙŠ

#### Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ÙƒØ§Ø´ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: 10 Ø¯Ù‚Ø§Ø¦Ù‚
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: 5 Ø¯Ù‚Ø§Ø¦Ù‚
- Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª: 5 Ø¯Ù‚Ø§Ø¦Ù‚
- Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©: 30 Ø¯Ù‚ÙŠÙ‚Ø©
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©: 15 Ø¯Ù‚ÙŠÙ‚Ø©

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
npm run reporting:test
```

## Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø­ØªÙ‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 16

### Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (16 ÙˆØ­Ø¯Ø©):
1. âœ… Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Infrastructure)
2. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Authentication)
3. âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (RBAC)
4. âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø®Ø§Ø²Ù† (Branches & Warehouses)
5. âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Product Management)
6. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory System)
7. âœ… ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Sales Module)
8. âœ… ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª (Returns Module)
9. âœ… ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª (Purchasing Module)
10. âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customer Management)
11. âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Basic Accounting)
12. âœ… ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (Reporting Module)
13. âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ (Payment System)

### Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
- **16 Ù…Ø±Ø­Ù„Ø© Ù…ÙƒØªÙ…Ù„Ø©** Ù…Ù† Ø£ØµÙ„ 28 Ù…Ø±Ø­Ù„Ø© Ù…Ø®Ø·Ø·Ø©
- **ØªØºØ·ÙŠØ© Ø´Ø§Ù…Ù„Ø©** Ù„Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- **Ù†Ø¸Ø§Ù… Ù…Ø­Ø§Ø³Ø¨ÙŠ Ù…ØªÙƒØ§Ù…Ù„** Ù…Ø¹ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬
- **ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…Ø©** Ù…Ø¹ Ù„ÙˆØ­Ø§Øª Ù…Ø¤Ø´Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©
- **Ø£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù…** Ù…Ø¹ RBAC Ø´Ø§Ù…Ù„
- **Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ** Ù…Ø¹ Ù†Ø¸Ø§Ù… ÙƒØ§Ø´ Ø°ÙƒÙŠ
- **ØªÙƒØ§Ù…Ù„ ÙƒØ§Ù…Ù„** Ø¨ÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ­Ø¯Ø§Øª
- **API Ù…ÙˆØ­Ø¯Ø©** Ù…Ø¹ validation Ø´Ø§Ù…Ù„
- **Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø³Ù†Ø©** Ù…Ø¹ ÙÙ‡Ø§Ø±Ø³ ÙˆØ¹Ù„Ø§Ù‚Ø§Øª
- **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù…Ø©** Ù…Ø¹ logging Ø´Ø§Ù…Ù„
- **Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø©** Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ­Ø¯Ø§Øª
- **ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„** Ù…Ø¹ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

## 18. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© (Sync System)

### Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ ÙˆØ¶Ø¹ Ø¹Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ ÙƒØ´Ù ÙˆØ­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª.

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

#### 1. SyncService - Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```typescript
@Injectable()
export class SyncService {
  async createSyncBatch() // Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙØ¹Ø© Ù…Ø²Ø§Ù…Ù†Ø©
  async processSyncBatch() // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
  async resolveConflict() // Ø­Ù„ ØªØ¹Ø§Ø±Ø¶ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
  async getSyncData() // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
  async getSyncStats() // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
}
```

#### 2. OfflineService - Ø®Ø¯Ù…Ø© ÙˆØ¶Ø¹ offline
```typescript
@Injectable()
export class OfflineService {
  async createOfflineSession() // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© offline
  async validateOfflineSession() // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¬Ù„Ø³Ø©
  async createOfflineDataPackage() // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø²Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  async saveOfflineChanges() // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù† ÙˆØ¶Ø¹ offline
}
```

#### 3. SyncController - Ù…ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
```typescript
@Controller('sync')
export class SyncController {
  @Post('upload') // Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
  @Get('download') // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
  @Post('bidirectional') // Ù…Ø²Ø§Ù…Ù†Ø© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø§ØªØ¬Ø§Ù‡
  @Put('batch/:batchId/conflict/:conflictId') // Ø­Ù„ ØªØ¹Ø§Ø±Ø¶
}
```

### Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### SyncBatch - Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
```prisma
model SyncBatch {
  id              String   @id @default(cuid())
  batchId         String   @unique
  deviceId        String
  syncType        String   // full, incremental, changes_only
  direction       String   // upload, download, bidirectional
  status          String   @default("pending")
  changes         Json?
  conflicts       Json?
  totalRecords    Int      @default(0)
  processedRecords Int     @default(0)
  failedRecords   Int      @default(0)
  conflictedRecords Int    @default(0)
  createdAt       DateTime @default(now())
}
```

### APIs Ø§Ù„Ù…ØªØ§Ø­Ø©

#### Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```bash
# Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
POST /sync/upload
Authorization: Bearer <token>
Content-Type: application/json

{
  "deviceId": "device_123",
  "syncType": "incremental",
  "changes": [
    {
      "id": "change_1",
      "entity": "Product",
      "operation": "create",
      "data": { "name": "Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯" },
      "timestamp": "2025-01-01T12:00:00Z"
    }
  ]
}

# ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
GET /sync/download?deviceId=device_123&lastSyncTime=2025-01-01T10:00:00Z

# Ù…Ø²Ø§Ù…Ù†Ø© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø§ØªØ¬Ø§Ù‡
POST /sync/bidirectional
```

#### Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
```bash
# Ø­Ù„ ØªØ¹Ø§Ø±Ø¶ Ù…Ø­Ø¯Ø¯
PUT /sync/batch/sync_device_123_1234567890/conflict/conflict_1
Authorization: Bearer <token>
Content-Type: application/json

{
  "resolution": "local",
  "resolvedData": { "name": "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„ÙˆÙ„" }
}
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
```bash
# Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©
GET /sync/stats

# Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯
GET /sync/stats?branchId=branch_123
```

#### ÙˆØ¶Ø¹ Offline
```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© offline
POST /sync/offline/session
Authorization: Bearer <token>
Content-Type: application/json

{
  "deviceId": "device_123",
  "userId": "user_456",
  "capabilities": ["read", "write", "sync"]
}

# Ø¬Ù„Ø¨ Ø­Ø²Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
GET /sync/offline/package/offline_device_123_1234567890

# Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù† ÙˆØ¶Ø¹ offline
POST /sync/offline/changes/offline_device_123_1234567890
Authorization: Bearer <token>
Content-Type: application/json

{
  "changes": [
    {
      "entity": "Product",
      "operation": "create",
      "data": { "name": "Ù…Ù†ØªØ¬ offline" },
      "localId": "local_123"
    }
  ]
}
```

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

#### 1. Incremental Sync - Ù…Ø²Ø§Ù…Ù†Ø© ØªØ¯Ø±ÙŠØ¬ÙŠØ©
- ØªØ²Ø§Ù…Ù† Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙ‚Ø· Ù…Ù† ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯
- Ù…Ø«Ø§Ù„: `lastSyncTime=2025-01-01T10:00:00Z`

#### 2. Full Sync - Ù…Ø²Ø§Ù…Ù†Ø© ÙƒØ§Ù…Ù„Ø©
- ØªØ²Ø§Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

#### 3. Changes Only - ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø­Ø¯Ø¯Ø©
- ØªØ²Ø§Ù…Ù† ÙƒÙŠØ§Ù†Ø§Øª Ù…Ø­Ø¯Ø¯Ø© ÙÙ‚Ø·
- Ù…Ø«Ø§Ù„: `entities=Product,Customer`

#### 4. Bidirectional - Ù…Ø²Ø§Ù…Ù†Ø© Ø«Ù†Ø§Ø¦ÙŠØ©
- Ø±ÙØ¹ ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ø§Ù‹
- Ù…Ø«Ø§Ù„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªØµÙ„Ø©

### ÙƒØ´Ù ÙˆØ­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª

#### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
- **Version Conflict**: Ø§Ø®ØªÙ„Ø§Ù ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª
- **Data Conflict**: ØªØ¹Ø§Ø±Ø¶ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- **Deleted Conflict**: Ø§Ù„ÙƒÙŠØ§Ù† Ù…Ø­Ø°ÙˆÙ

#### Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ø­Ù„
- **Local Wins**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- **Remote Wins**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø¹ÙŠØ¯Ø©
- **Merge**: Ø¯Ù…Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø©
- **Manual**: Ø­Ù„ ÙŠØ¯ÙˆÙŠ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

```typescript
interface SyncStats {
  totalBatches: number;
  pendingBatches: number;
  processingBatches: number;
  completedBatches: number;
  failedBatches: number;
  conflictedBatches: number;
  totalRecords: number;
  syncedRecords: number;
  failedRecords: number;
  conflictedRecords: number;
  lastSyncTime?: Date;
  averageSyncTime: number;
}
```

### ÙˆØ¶Ø¹ Offline Ø§Ù„ÙƒØ§Ù…Ù„

#### Ù…Ù…ÙŠØ²Ø§Øª ÙˆØ¶Ø¹ Offline
- **Ø¬Ù„Ø³Ø§Øª Ø²Ù…Ù†ÙŠØ©**: Ù…Ù‡Ù„Ø© 24 Ø³Ø§Ø¹Ø© Ù„Ù„Ø¬Ù„Ø³Ø§Øª
- **Ø­Ø²Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø°ÙƒÙŠØ©**: ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙ‚Ø·
- **Ù‚ÙˆØ§Ø¦Ù… Ø§Ù†ØªØ¸Ø§Ø±**: Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹
- **Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©**: Ø¹Ù†Ø¯ Ø¹ÙˆØ¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©**: ØªØªØ¨Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ØªØµÙ„Ø©

#### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
1. **Ø§Ù„ØµØ±Ø§Ù ÙÙŠ Ø§Ù„ÙØ±Ø¹**: ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„
2. **Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ØªÙ†Ù‚Ù„**: ÙŠØ­Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
3. **Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©**: ØªØ²Ø§Ù…Ù† Ø¯ÙˆØ±ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„ÙØ±ÙˆØ¹

### Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø°ÙˆÙ†Ø§Øª

#### Ø£Ø°ÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- `sync.upload` - Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- `sync.download` - ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- `sync.bidirectional` - Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠØ©
- `sync.resolve` - Ø­Ù„ ØªØ¹Ø§Ø±Ø¶Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- `sync.retry` - Ø¥Ø¹Ø§Ø¯Ø© Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„ÙØ§Ø´Ù„Ø©
- `sync.read` - Ù‚Ø±Ø§Ø¡Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- `sync.offline` - Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ¶Ø¹ offline
- `sync.admin` - Ø¥Ø¯Ø§Ø±Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
npm run sync:test

# Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ´Ù…Ù„:
# - Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
# - ÙƒØ´Ù ÙˆØ­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
# - ÙˆØ¶Ø¹ offline Ø§Ù„ÙƒØ§Ù…Ù„
# - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
# - ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
```

### Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª

#### ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
- **ÙƒØ§Ø´ Ø°ÙƒÙŠ**: ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©
- **Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Ø¶Ù…Ø§Ù† Ø§Ù„Ø§ØªØ³Ø§Ù‚
- **ÙÙ‡Ø±Ø³Ø© Ø´Ø§Ù…Ù„Ø©**: Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹
- **Ù…Ø¹Ø§Ù„Ø¬Ø© ØºÙŠØ± Ù…ØªØ²Ø§Ù…Ù†Ø©**: Ù‚ÙˆØ§Ø¦Ù… Ø§Ù†ØªØ¸Ø§Ø±
- **Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ù†Ù‚Ù„

#### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡
- **Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­**: Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù†Ø§Ø¬Ø­Ø©
- **ÙˆÙ‚Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©**: Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- **Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: ÙƒÙ…ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ù‚ÙˆÙ„Ø©
- **Ø¹Ø¯Ø¯ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª**: Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª

### Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù…

#### ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Audit System
```typescript
// ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
await this.auditService.log({
  action: 'SYNC_UPLOAD',
  entity: 'SyncBatch',
  entityId: batchId,
  details: { changes: changes.length },
  module: 'sync'
});
```

#### ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Cache System
```typescript
// ØªØ®Ø²ÙŠÙ† Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¤Ù‚ØªØ§Ù‹
await this.cacheService.set(`sync_stats:${branchId}`, stats, { ttl: 300 });
```

### Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

#### Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†
1. **Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„**: Ø§Ø®ØªØ¨Ø± Ø¬Ù…ÙŠØ¹ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
2. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**: ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„
3. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡**: Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒØ§Ø´ ÙˆØ§Ù„ÙÙ‡Ø±Ø³Ø©
4. **Ø§Ù„Ø£Ù…Ø§Ù† Ø£ÙˆÙ„Ø§Ù‹**: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹

#### Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
1. **Ù…Ø²Ø§Ù…Ù†Ø© Ø¯ÙˆØ±ÙŠØ©**: Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ù†ØªØ¸Ù…Ø© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
2. **Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª**: Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª ÙÙˆØ±Ø§Ù‹
3. **ÙˆØ¶Ø¹ offline**: Ø§Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„
4. **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ø§Ù„Ø©**: ØªØ§Ø¨Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©

## 19. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ (Payment System)

### Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
Ù†Ø¸Ø§Ù… Ø¯ÙØ¹ Ø´Ø§Ù…Ù„ ÙˆØ¢Ù…Ù† ÙŠØ¯Ø¹Ù… Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„ØªØ³ÙˆÙŠØ©.

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

#### 1. PaymentService - Ø®Ø¯Ù…Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```typescript
@Injectable()
export class PaymentService {
  async processPayment() // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
  async processRefund() // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯
  async processWebhook() // Ù…Ø¹Ø§Ù„Ø¬Ø© webhook Ù…Ù† Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©
  async getPaymentStats() // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹
  async reconcileTransactions() // ØªØ³ÙˆÙŠØ© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
}
```

#### 2. PaymentAdapterFactory - Ù…ØµÙ†Ø¹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª
```typescript
@Injectable()
export class PaymentAdapterFactory {
  getAdapter(gateway: PaymentGateway): BasePaymentAdapter
  isGatewayAvailable(gateway: PaymentGateway): boolean
  getAvailableGateways(): PaymentGateway[]
  getGatewayInfo(gateway: PaymentGateway)
}
```

#### 3. PaymentSecurityService - Ø®Ø¯Ù…Ø© Ø§Ù„Ø£Ù…Ø§Ù†
```typescript
@Injectable()
export class PaymentSecurityService {
  encryptCardData() // ØªØ´ÙÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
  createCardToken() // Ø¥Ù†Ø´Ø§Ø¡ token Ù„Ù„Ø¨Ø·Ø§Ù‚Ø©
  validateCardNumber() // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
  validateCVV() // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† CVV
  createHMAC() // Ø¥Ù†Ø´Ø§Ø¡ HMAC Ù„Ù„ØªØ­Ù‚Ù‚
}
```

#### 4. RefundService - Ø®Ø¯Ù…Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
```typescript
@Injectable()
export class RefundService {
  async processRefund() // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯
  getRefundPolicy() // Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
  async getRefundStats() // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
  async getRefundReport() // ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ø§Øª
}
```

#### 5. ReconciliationService - Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ³ÙˆÙŠØ©
```typescript
@Injectable()
export class ReconciliationService {
  async reconcileTransactions() // ØªØ³ÙˆÙŠØ© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
  async resolveDiscrepancy() // Ø­Ù„ Ø§Ø®ØªÙ„Ø§Ù
  async getReconciliationStats() // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ³ÙˆÙŠØ©
}
```

### Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

#### 1. **Stripe** - Ø¨ÙˆØ§Ø¨Ø© Ø¹Ø§Ù„Ù…ÙŠØ©
- Ø¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
- 3D Secure
- Recurring payments
- Apple Pay / Google Pay

#### 2. **PayPal** - Ø¨ÙˆØ§Ø¨Ø© Ø´Ù‡ÙŠØ±Ø©
- Ø­Ø³Ø§Ø¨Ø§Øª Ù…ØµØ±ÙÙŠØ©
- Express Checkout
- Subscriptions
- International payments

#### 3. **Tap** - Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·
- Ø¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- QR codes
- Mobile wallets
- Local payment methods

#### 4. **Local** - Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- Ù†Ù‚Ø¯ÙŠ
- Ø´ÙŠÙƒØ§Øª
- ØªØ­ÙˆÙŠÙ„Ø§Øª Ø¨Ù†ÙƒÙŠØ©
- Offline processing

### APIs Ø§Ù„Ù…ØªØ§Ø­Ø©

#### Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹
```bash
# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
POST /payment/process
Authorization: Bearer <token>
Content-Type: application/json

{
  "invoiceId": "inv_123",
  "invoiceType": "sales",
  "amount": 299.99,
  "currency": "SAR",
  "gateway": "stripe",
  "method": "card",
  "description": "Ø¯ÙØ¹ ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù… 123"
}

# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯
POST /payment/refund
Authorization: Bearer <token>
Content-Type: application/json

{
  "transactionId": "txn_stripe_123",
  "amount": 50.00,
  "reason": "customer_request"
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª
```bash
# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
GET /payment/gateways

# Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨ÙˆØ§Ø¨Ø© Ù…Ø­Ø¯Ø¯Ø©
GET /payment/gateways/stripe

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„Ø©
GET /payment/gateways/stripe/currency/SAR

# Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ø¹Ù…Ù„Ø©
GET /payment/gateways/currency/SAR
```

#### Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø¯ÙØ¹
POST /payment/create-link

# Ø¥Ù†Ø´Ø§Ø¡ QR code
POST /payment/create-qr

# ØªØ³ÙˆÙŠØ© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
POST /payment/reconcile
```

#### Webhook Endpoints
```bash
# Stripe webhook
POST /payment/webhooks/stripe

# PayPal webhook
POST /payment/webhooks/paypal

# Tap webhook
POST /payment/webhooks/tap

# Webhook Ø¹Ø§Ù…
POST /payment/webhooks/:gateway
```

### Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„ØªØ´ÙÙŠØ±

#### ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
```typescript
// ØªØ´ÙÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
const encrypted = await securityService.encryptCardData(cardData);

// ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±
const decrypted = await securityService.decryptCardData(encrypted);
```

#### Tokenization
```typescript
// Ø¥Ù†Ø´Ø§Ø¡ token Ù„Ù„Ø¨Ø·Ø§Ù‚Ø©
const token = await securityService.createCardToken(cardData);
// Ø§Ù„Ø¹ÙˆØ¯Ø©: { token, last4, brand, fingerprint }
```

#### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```typescript
// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Luhn)
const isValid = securityService.validateCardNumber('4111111111111111');

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
const isValidExpiry = securityService.validateExpiryDate('12', '2025');

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† CVV
const isValidCVV = securityService.validateCVV('123', '4111111111111111');
```

### Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
```typescript
const policy = refundService.getRefundPolicy();
// {
//   maxRefundDays: 30,
//   allowPartialRefunds: true,
//   requireApproval: false,
//   supportedReasons: ['customer_request', 'defective_product', ...]
// }
```

#### Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
```typescript
const refundResult = await refundService.processRefund({
  transactionId: 'txn_123',
  amount: 50.00,
  reason: 'customer_request',
  userId: 'user_456'
});
```

### Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³ÙˆÙŠØ©

#### ØªØ³ÙˆÙŠØ© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
```typescript
const result = await reconciliationService.reconcileTransactions({
  gateway: 'stripe',
  startDate: new Date('2025-01-01'),
  endDate: new Date(),
  branchId: 'branch_123'
});

// Ø§Ù„Ø¹ÙˆØ¯Ø©: { matched, unmatchedSystem, unmatchedGateway, discrepancies }
```

#### Ø­Ù„ Ø§Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª
```typescript
await reconciliationService.resolveDiscrepancy(
  'discrepancy_123',
  {
    action: 'accept',
    notes: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©',
  },
  'user_456'
);
```

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹
```typescript
const stats = await paymentService.getPaymentStats();
// {
//   totalTransactions: 1250,
//   successfulTransactions: 1180,
//   totalAmount: 250000,
//   gatewayStats: { stripe: {...}, paypal: {...} }
// }
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
```typescript
const refundStats = await refundService.getRefundStats();
// {
//   totalRefunds: 45,
//   totalRefundAmount: 12500,
//   successfulRefunds: 42,
//   refundRate: 5.0,
//   commonReasons: { customer_request: 25, defective_product: 12 }
// }
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙØ¹
npm run payment:test

# Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ´Ù…Ù„:
# - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø¹Ø¨Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª
# - Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„ØªØ³ÙˆÙŠØ©
# - Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„ØªØ´ÙÙŠØ±
# - Ù…Ø¹Ø§Ù„Ø¬Ø© webhooks
# - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
# - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
```

### Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```bash
# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# PayPal
PAYPAL_CLIENT_ID=...
PAYPAL_CLIENT_SECRET=...
PAYPAL_ENVIRONMENT=sandbox

# Tap
TAP_API_KEY=...
TAP_WEBHOOK_SECRET=...

# Ø§Ù„Ø£Ù…Ø§Ù†
PAYMENT_ENCRYPTION_KEY=your_32_character_encryption_key
```

## Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù…Ù†Ø¬Ø²Ø©

### âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 19: ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ (Payment Gateway Integration)
ØªÙ… ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Stripe, PayPal, Tap, Local) Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¢Ù…Ù†Ø©ØŒ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ØŒ ÙˆØ§Ù„ØªØ³ÙˆÙŠØ©.

### âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 20: Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Notification System)
ØªÙ… ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„ ÙŠØ¯Ø¹Ù… Ø¹Ø¯Ø© Ù‚Ù†ÙˆØ§Øª (Email, SMS, WhatsApp, Push, In-App) Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù‚ÙˆØ§Ù„Ø¨ Ù…ØªÙ‚Ø¯Ù… ÙˆØªÙØ¶ÙŠÙ„Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø°ÙƒÙŠØ©.

### Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© (7 Ù…Ø±Ø§Ø­Ù„):
21. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† (Storage System)
22. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© (Monitoring System)
23. Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ (Backup System)
24. ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† (Security Enhancements)
25. ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ (Performance Optimization)
26. ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª (Testing)
27. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù„Ù„Ù†Ø´Ø± (Deployment Preparation)
28. Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© (Deployment & Monitoring)

### Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ø¥Ù†ØªØ§Ø¬:
- âœ… Ø¬Ù…ÙŠØ¹ APIs ØªØ¹Ù…Ù„ Ø¨ÙƒÙØ§Ø¡Ø©
- âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø³Ù†Ø© ÙˆÙ…ÙÙÙ‡Ø±Ø³Ø©
- âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ø´ ÙØ¹Ø§Ù„
- âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„Ø©
- âœ… Ø£Ø°ÙˆÙ†Ø§Øª Ø£Ù…Ø§Ù† Ù…Ø­ÙƒÙ…Ø©
- âœ… Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø³Ù„Ø§Ù…Ø©
- âœ… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø©
- âœ… ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„

### Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Notification System)

#### Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
Ù†Ø¸Ø§Ù… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„ ÙŠØ¯Ø¹Ù… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø¨Ø± Ù‚Ù†ÙˆØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù‚ÙˆØ§Ù„Ø¨ Ù…ØªÙ‚Ø¯Ù… ÙˆØªÙØ¶ÙŠÙ„Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø°ÙƒÙŠØ©.

#### Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
- **Email**: Ø¥ÙŠÙ…ÙŠÙ„ Ø¨Ù‚ÙˆØ§Ù„Ø¨ HTML ÙˆÙ…ØªØºÙŠØ±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
- **SMS**: Ø±Ø³Ø§Ø¦Ù„ Ù†ØµÙŠØ© Ù‚ØµÙŠØ±Ø© Ù…Ø¹ Ø¯Ø¹Ù… Unicode
- **WhatsApp**: Ø±Ø³Ø§Ø¦Ù„ ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ø¹ Ø£Ø²Ø±Ø§Ø± ÙˆÙ‚ÙˆØ§Ø¦Ù…
- **Push Notifications**: Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¯ÙØ¹ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
- **In-App Notifications**: Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

#### Ø§Ù„Ù…Ø²ÙˆØ¯ÙˆÙ† Ø§Ù„Ù…Ø¯Ø¹Ù…ÙˆÙ†

**Email Providers:**
- SendGrid (ØªÙˆØµÙŠØ© Ù„Ù„Ø¥Ù†ØªØ§Ø¬)
- Mailgun
- AWS SES
- SMTP Server

**SMS Providers:**
- Twilio (ØªÙˆØµÙŠØ© Ù„Ù„Ø¥Ù†ØªØ§Ø¬)
- AWS SNS
- MessageBird
- Nexmo (Vonage)

**WhatsApp Providers:**
- WhatsApp Business API (ØªÙˆØµÙŠØ© Ù„Ù„Ø¥Ù†ØªØ§Ø¬)
- 360Dialog
- Twilio WhatsApp

#### APIs Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

```typescript
// Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ
POST /notifications/send
{
  "title": "ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©",
  "message": "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù… INV-001",
  "type": "email",
  "recipientId": "customer_123",
  "recipientType": "customer",
  "recipientEmail": "customer@example.com"
}

// Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ù„Ø¨
POST /notifications/send-template/invoice_created
{
  "recipientId": "customer_123",
  "recipientType": "customer",
  "variables": {
    "invoice_number": "INV-001",
    "customer_name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "amount": "299.99"
  }
}

// Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…Ø§Ø¹ÙŠ
POST /notifications/send-bulk
{
  "notifications": [
    {
      "title": "ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ø§Ù…",
      "message": "ØªØ­Ø¯ÙŠØ« Ù…Ù‡Ù… ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…",
      "type": "sms",
      "recipientId": "user_123",
      "recipientType": "user"
    }
  ]
}
```

#### Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨

```typescript
// Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨
POST /notifications/templates
{
  "name": "invoice_created_email",
  "type": "email",
  "subject": "ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø±Ù‚Ù… ${invoice_number}",
  "content": "Ù…Ø±Ø­Ø¨Ø§Ù‹ ${customer_name}ØŒ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ù‚ÙŠÙ…Ø© ${amount} Ø±ÙŠØ§Ù„",
  "htmlContent": "<p>Ù…Ø±Ø­Ø¨Ø§Ù‹ <strong>${customer_name}</strong>...</p>",
  "event": "sale_created",
  "module": "sales",
  "variables": {
    "invoice_number": "string",
    "customer_name": "string",
    "amount": "number"
  }
}

// Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
GET /notifications/templates?type=email&event=sale_created

// Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ø§Ù„Ø¨
POST /notifications/templates/template_123/preview
{
  "variables": {
    "invoice_number": "INV-001",
    "customer_name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "amount": "299.99"
  }
}
```

#### ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

```typescript
// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
GET /notifications/preferences/user_123

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
PUT /notifications/preferences/user_123
{
  "preferences": [
    {
      "notificationType": "email",
      "event": "sale_created",
      "enabled": true,
      "frequency": "immediate"
    },
    {
      "notificationType": "sms",
      "event": "payment_failed",
      "enabled": false,
      "quietHoursStart": "22:00",
      "quietHoursEnd": "08:00"
    }
  ]
}

// Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù„Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
POST /notifications/preferences/user_123/reset
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

```typescript
// Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
GET /notifications/stats
// {
//   "totalNotifications": 1250,
//   "sentNotifications": 1180,
//   "failedNotifications": 15,
//   "pendingNotifications": 55,
//   "deliveryRate": 94.4,
//   "notificationsByType": { "email": 800, "sms": 350, "whatsapp": 100 },
//   "notificationsByModule": { "sales": 600, "inventory": 400, "customer": 250 }
// }

// Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
GET /notifications/preferences/stats
// {
//   "totalUsers": 150,
//   "usersWithCustomPreferences": 45,
//   "mostPopularPreferences": [...],
//   "quietHoursUsage": 30
// }
```

#### Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·ÙˆØ§Ø¨ÙŠØ±

```typescript
// Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ø¨ÙˆØ±
GET /notifications/queue/stats
// {
//   "totalJobs": 250,
//   "queuedJobs": 45,
//   "processingJobs": 5,
//   "completedJobs": 195,
//   "failedJobs": 5,
//   "averageProcessingTime": 1250
// }

// Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø·Ø§Ø¨ÙˆØ±
POST /notifications/queue/restart

// ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
DELETE /notifications/queue/cleanup?daysOld=30
```

#### Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…ØªØ§Ø­Ø©

```typescript
// Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
GET /notifications/events

// Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
[
  { "event": "sale_created", "module": "sales", "description": "Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª" },
  { "event": "payment_received", "module": "sales", "description": "Ø§Ø³ØªÙ„Ø§Ù… Ø¯ÙØ¹Ø©" },
  { "event": "payment_failed", "module": "sales", "description": "ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¯ÙØ¹" }
]

// Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
[
  { "event": "stock_low", "module": "inventory", "description": "Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶" },
  { "event": "stock_out", "module": "inventory", "description": "Ù†ÙØ§Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†" }
]

// Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
[
  { "event": "customer_birthday", "module": "customer", "description": "Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø§Ù„Ø¹Ù…ÙŠÙ„" },
  { "event": "loyalty_tier_upgraded", "module": "customer", "description": "ØªØ±Ù‚ÙŠØ© Ø¯Ø±Ø¬Ø© Ø§Ù„ÙˆÙ„Ø§Ø¡" }
]
```

#### Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©

```bash
# Email Configuration
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=SG.YourApiKeyHere
EMAIL_FROM_EMAIL=noreply@zaytuna.com
EMAIL_FROM_NAME=Ù†Ø¸Ø§Ù… Ø²ÙŠØªÙˆÙ†Ø©

# SMS Configuration
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token
SMS_FROM_NUMBER=+966500000000

# WhatsApp Configuration
WHATSAPP_PROVIDER=whatsapp_business
WHATSAPP_ACCESS_TOKEN=your_access_token
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id

# Queue Configuration
NOTIFICATION_QUEUE_MAX_CONCURRENT=10
NOTIFICATION_QUEUE_PROCESSING_INTERVAL=5000
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_BACKOFF_BASE=60
```

#### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
npm run notification:test

# Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±
POST /notifications/test
{
  "type": "email",
  "recipient": "test@example.com",
  "message": "Ø±Ø³Ø§Ù„Ø© Ø§Ø®ØªØ¨Ø§Ø±"
}
```

#### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

- **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·ÙˆØ§Ø¨ÙŠØ± Ø°ÙƒÙŠØ©**: Ù…Ø¹Ø§Ù„Ø¬Ø© ØºÙŠØ± Ù…ØªØ²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- **Ù‚ÙˆØ§Ù„Ø¨ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©**: Ø¯Ø¹Ù… Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø®ØµØµØ© ÙˆØ´Ø±ÙˆØ· Ù…Ù†Ø·Ù‚ÙŠØ©
- **ØªÙØ¶ÙŠÙ„Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†**: ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©
- **Ø¬Ø¯ÙˆÙ„Ø© Ø²Ù…Ù†ÙŠØ©**: Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„ÙˆÙ‚Øª Ù„Ø§Ø­Ù‚
- **ØªØªØ¨Ø¹ Ø´Ø§Ù…Ù„**: ØªØ³Ø¬ÙŠÙ„ ÙƒØ§Ù…Ù„ Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§Ù„ØªØ³Ù„ÙŠÙ…
- **Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª**: Ù‚ÙˆØ§Ù„Ø¨ Ù…ØªØ±Ø¬Ù…Ø© ÙˆÙ…Ø­Ù„ÙŠØ©
- **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©**: ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ÙØµÙ„Ø© Ù„Ù…Ø¹Ø¯Ù„Ø§Øª Ø§Ù„ØªØ³Ù„ÙŠÙ… ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡

#### Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

```typescript
// Ø¥Ø´Ø¹Ø§Ø± ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
await notificationService.sendTemplatedNotification(
  'sale_invoice_created_email',
  {
    invoice_number: 'INV-001',
    customer_name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
    amount: '299.99',
    invoice_date: '2025-01-11'
  },
  'customer_123',
  'customer'
);

// Ø¥Ø´Ø¹Ø§Ø± Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶
await notificationService.sendNotification({
  title: 'ØªÙ†Ø¨ÙŠÙ‡: Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶',
  message: `Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ù† ${productName} Ø£ØµØ¨Ø­ ${currentStock} Ù‚Ø·Ø¹Ø© ÙÙ‚Ø·`,
  type: 'push',
  recipientId: 'manager_123',
  recipientType: 'user',
  priority: 'urgent',
  module: 'inventory',
  event: 'stock_low'
});

// Ø¥Ø´Ø¹Ø§Ø± Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯
await notificationService.sendNotification({
  title: 'ğŸ‰ ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†Øª Ø¨Ø®ÙŠØ±!',
  message: `Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯ ${customerName}! Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§ ğŸ‚`,
  type: 'whatsapp',
  recipientId: 'customer_456',
  recipientType: 'customer',
  priority: 'normal',
  module: 'customer',
  event: 'customer_birthday'
});
```

### Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
- ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Purchasing, Accounting, etc.)
- Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§Øª ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª
- Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ù†Ø´Ø±

## Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡Ø© [Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©](../../CONTRIBUTING.md) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­ÙˆÙ„ ÙƒÙŠÙÙŠØ© Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.

## Ø§Ù„ØªØ±Ø®ÙŠØµ

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø®Øµ ØªØ­Øª Ø±Ø®ØµØ© MIT - Ø±Ø§Ø¬Ø¹ Ù…Ù„Ù [LICENSE](../../LICENSE) Ù„Ù„ØªÙØ§ØµÙŠÙ„.
